{
    "ClientConfiguration": {
        "ConfigurationName": "Right Scan Simple UI",
        "ConfigurationDescription": "Простое сканирование товаров для 1С",
        "ConfigurationVersion": "0.0.1",
        "Processes": [
            {
                "type": "Process",
                "ProcessName": "Документы",
                "PlanFactHeader": "...",
                "DefineOnBackPressed": true,
                "hidden": false,
                "login_screen": false,
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Документы",
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "noConfirmation": true,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "send_when_opened": false,
                        "onlineOnInput": false,
                        "DefOnlineOnCreate": "",
                        "DefOnlineOnInput": "",
                        "DefOnCreate": "docs_on_start",
                        "DefOnInput": "docs_on_select",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "SpinnerLayout",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "@doc_type_select",
                                                "Variable": "doc_type_click",
                                                "gravity_horizontal": "left"
                                            },
                                            {
                                                "type": "Button",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "+",
                                                "Variable": "btn_add_doc",
                                                "TextBold": true,
                                                "gravity_horizontal": "center"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "CardsLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@docCards",
                                        "Variable": "doc_cards"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "Name": "Документ товары",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@doc_type",
                                        "Variable": "",
                                        "TextBold": true,
                                        "TextSize": "18"
                                    },
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "TextView",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "@doc_n",
                                                "Variable": "",
                                                "TextBold": true,
                                                "TextSize": "24",
                                                "TextColor": "#7A005C"
                                            },
                                            {
                                                "type": "TextView",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "@doc_date",
                                                "Variable": ""
                                            }
                                        ]
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@warehouse",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@countragent",
                                        "Variable": "",
                                        "orientation": "vertical",
                                        "Elements": []
                                    },
                                    {
                                        "type": "CardsLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@doc_goods",
                                        "Variable": "doc_goods"
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Отметить к отправке",
                                        "Variable": "btn_doc_mark_verified"
                                    }
                                ]
                            },
                            {
                                "Value": "",
                                "Variable": "barcode_camera",
                                "type": "barcode"
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnInput": "doc_details_listener",
                        "DefOnCreate": "doc_details_on_start"
                    },
                    {
                        "Name": "Товар",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@Doc_data",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@Good",
                                        "Variable": "",
                                        "TextSize": "24",
                                        "TextBold": true,
                                        "TextColor": "#7A005C",
                                        "BackgroundColor": ""
                                    },
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "LinearLayout",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "weight": "1",
                                                "Value": "",
                                                "Variable": "",
                                                "orientation": "vertical",
                                                "Elements": [
                                                    {
                                                        "type": "TextView",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "weight": "0",
                                                        "Value": "План",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "type": "TextView",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "weight": "0",
                                                        "Value": "@qtty_plan",
                                                        "Variable": "",
                                                        "TextSize": "24"
                                                    }
                                                ]
                                            },
                                            {
                                                "type": "LinearLayout",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "weight": "1",
                                                "Value": "",
                                                "Variable": "",
                                                "orientation": "vertical",
                                                "Elements": [
                                                    {
                                                        "type": "TextView",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "weight": "0",
                                                        "Value": "Факт",
                                                        "Variable": ""
                                                    },
                                                    {
                                                        "type": "EditTextNumeric",
                                                        "height": "wrap_content",
                                                        "width": "match_parent",
                                                        "weight": "0",
                                                        "Value": "@qtty",
                                                        "Variable": "qtty",
                                                        "TextSize": "24"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "TextView",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "Цена",
                                                "Variable": ""
                                            },
                                            {
                                                "type": "EditTextNumeric",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "weight": "0",
                                                "Value": "@price",
                                                "Variable": "price"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "Button",
                                                "height": "wrap_content",
                                                "width": "match_parent",
                                                "weight": "1",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "CardsLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@barcode_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnInput": "elem_on_click"
                    },
                    {
                        "Name": "Новый документ",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "SpinnerLayout",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@doc_type_select",
                                        "Variable": "doc_type_click"
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "wrap_content",
                                        "width": 50,
                                        "weight": "0",
                                        "Value": "@fld_number",
                                        "Variable": "",
                                        "width_value": "50"
                                    },
                                    {
                                        "type": "DateField",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@doc_date",
                                        "Variable": "fld_data"
                                    },
                                    {
                                        "type": "EditTextAutocomplete",
                                        "show_by_condition": "",
                                        "height": "wrap_content",
                                        "NoRefresh": true,
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@countragent",
                                        "Variable": "fld_countragent",
                                        "gravity_horizontal": "left"
                                    },
                                    {
                                        "type": "EditTextAutocomplete",
                                        "NoRefresh": true,
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@warehouse",
                                        "Variable": "doc_warehouse",
                                        "gravity_horizontal": "left"
                                    },
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "Button",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "Сохранить",
                                                "Variable": "btn_ok"
                                            },
                                            {
                                                "type": "Button",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "Отменить",
                                                "Variable": "btn_cancel"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "new_doc_on_start",
                        "DefOnInput": "new_doc_on_select"
                    },
                    {
                        "Name": "Документ штрихкоды",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "CardsLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@barc_cards",
                                        "Variable": "barcode_cards"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "doc_barcodes_on_start",
                        "DefOnInput": "doc_barcodes_listener"
                    },
                    {
                        "Name": "Тестовый",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@gtin",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@series",
                                        "Variable": ""
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false
                    },
                    {
                        "Name": "Удаление штрихкода",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Товар с такой маркировкой уже есть в документе!",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@good",
                                        "Variable": "id_good",
                                        "TextColor": "#7A005C",
                                        "TextSize": "24",
                                        "TextBold": true
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@code_art",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@unit_name",
                                        "Variable": "id_unit"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@barcode_value",
                                        "Variable": "barcode_value1"
                                    },
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "Button",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "Отменить",
                                                "Variable": "btn_barcode_cancel"
                                            },
                                            {
                                                "type": "Button",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "Удалить",
                                                "Variable": "btn_barcode_delete"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "delete_barcode_screen_start",
                        "DefOnInput": "delete_barcode_screen_click"
                    },
                    {
                        "Name": "Ошибка сканера",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@scanned_barcode",
                                        "Variable": "scanned_barcode"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "ОШИБКА",
                                        "Variable": "",
                                        "TextColor": "",
                                        "TextSize": "24"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Товар не найден по штрихкоду!",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Сканер отключен",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Продолжить сканирование",
                                        "Variable": "btn_continue_scan"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnInput": "barcode_error_screen_listener"
                    }
                ]
            },
            {
                "ProcessName": "Товары",
                "type": "Process",
                "Operations": [
                    {
                        "Name": "Товары список",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "wrap_content",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "CardsLayout",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@goods_cards",
                                        "Variable": "cards_item"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "goods_on_start",
                        "noConfirmation": true,
                        "DefOnInput": "goods_on_click"
                    },
                    {
                        "Name": "Цены товара",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@name",
                                        "Variable": "",
                                        "TextColor": "18",
                                        "TextBold": true
                                    },
                                    {
                                        "type": "LinearLayout",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "",
                                        "orientation": "horizontal",
                                        "Elements": [
                                            {
                                                "type": "TextView",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "@code",
                                                "Variable": "",
                                                "TextSize": "16"
                                            },
                                            {
                                                "type": "TextView",
                                                "height": "wrap_content",
                                                "width": "wrap_content",
                                                "weight": "0",
                                                "Value": "@type_name",
                                                "Variable": ""
                                            }
                                        ]
                                    },
                                    {
                                        "type": "CardsLayout",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@good_prices",
                                        "Variable": "good_prices"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "price_on_start",
                        "DefOnInput": "_price_on_click"
                    }
                ],
                "DefineOnBackPressed": true
            },
            {
                "ProcessName": "Настройки",
                "type": "Process",
                "Operations": [
                    {
                        "Name": "Настройки и обмен",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@ip_adr",
                                        "Variable": "text_ip",
                                        "TextSize": "25"
                                    },
                                    {
                                        "type": "CheckBox",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Отображать серии",
                                        "Variable": "use_series"
                                    },
                                    {
                                        "type": "CheckBox",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Отображать характеристики",
                                        "Variable": "use_properties"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Настройки маркировки",
                                        "Variable": "",
                                        "drawable": "plus"
                                    },
                                    {
                                        "type": "CheckBox",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "ИспользоватьМаркировку",
                                        "Variable": "use_mark",
                                        "gravity_horizontal": "left"
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@ip_host",
                                        "Variable": "ip_host",
                                        "height_value": "0",
                                        "width_value": "0"
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Скопировать базу на компьютер",
                                        "Variable": "btn_copy_base",
                                        "height_value": "0",
                                        "width_value": "0"
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@path",
                                        "Variable": "path",
                                        "gravity_horizontal": "left"
                                    },
                                    {
                                        "type": "CheckBox",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Удалять файлы после загрузки",
                                        "Variable": "delete_files"
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Загрузить локальные файлы",
                                        "Variable": "btn_local_files"
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Выгрузить данные",
                                        "Variable": "btn_export"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "settings_on_start",
                        "DefOnInput": "settings_on_click",
                        "noConfirmation": true
                    }
                ]
            }
        ],
        "ConfigurationSettings": {
            "uid": "a6ce59bc3f714a5284213f6e293e3e91"
        },
        "ConfigurationTags": "Py,off-line",
        "PyHandlers": "aW1wb3J0IG9zCmltcG9ydCBjc3YKCmltcG9ydCB1aV9iYXJjb2RlcwppbXBvcnQgdWlfY3N2CmltcG9ydCB1aV9nbG9iYWwKaW1wb3J0IHVpX2Zvcm1fZGF0YQppbXBvcnQgc29ja2V0CmltcG9ydCBqc29uCmltcG9ydCByZXF1ZXN0cwoKIzAxMDA2MDg5NDA1NTM4ODYyMTUsaVBHU1FwQnQhJkIKZGVmIHNldHRpbmdzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIHMgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19ER1JBTSkKICAgIHRyeToKICAgICAgICBzLmNvbm5lY3QoKCI4LjguOC44IiwgODApKQogICAgICAgIGFhID0gKHMuZ2V0c29ja25hbWUoKVswXSkKICAgICAgICAjIGFhID0gaGFzaE1hcC5nZXQoJ2lwX2FkcicpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2lwX2FkcicsIGFhKQogICAgICAgICMgaGFzaE1hcC5wdXQoJ3RvYXN0JywgYWEpCiAgICBleGNlcHQ6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2lwX2FkcicsICfQvdC10YIg0YHQtdGC0LgnKQoKICAgICMg0JfQvdCw0YfQtdC90LjRjyDQutC+0L3RgdGC0LDQvdGCINC4INC90LDRgdGC0YDQvtC10LoKICAgIHJlcyA9IHVpX2dsb2JhbC5nZXRfY29uc3RhbnRzKCkKICAgIGlmIG5vdCByZXMgaXMgTm9uZToKICAgICAgICBoYXNoTWFwLnB1dCgndXNlX3NlcmllcycsIHN0cihyZXNbMV0pKQogICAgICAgIGhhc2hNYXAucHV0KCd1c2VfcHJvcGVydGllcycsIHN0cihyZXNbMl0pKQogICAgICAgIGhhc2hNYXAucHV0KCd1c2VfbWFyaycsIHN0cihyZXNbM10pKQogICAgICAgIGhhc2hNYXAucHV0KCdwYXRoJywgc3RyKHJlc1s0XSkpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2RlbGV0ZV9maWxlcycsIHN0cihyZXNbNV0pKQoKICAgIGlmIG5vdCBoYXNoTWFwLmNvbnRhaW5zS2V5KCdpcF9ob3N0Jyk6CiAgICAgICAgaGFzaE1hcC5wdXQoJ2lwX2hvc3QnLCAnMTkyLjE2OC44OC45OScpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgc2V0dGluZ3Nfb25fY2xpY2soaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgdXNlX3NlcmllcyA9IGhhc2hNYXAuZ2V0KCd1c2Vfc2VyaWVzJykKICAgIHVzZV9wcm9wZXJ0aWVzID0gaGFzaE1hcC5nZXQoJ3VzZV9wcm9wZXJ0aWVzJykKICAgIHVzZV9tYXJrID0gaGFzaE1hcC5nZXQoJ3VzZV9tYXJrJykKICAgIGRlbGV0ZV9maWxlcyA9IGhhc2hNYXAuZ2V0KCdkZWxldGVfZmlsZXMnKQogICAgcGF0aCA9IGhhc2hNYXAuZ2V0KCdwYXRoJykKCiAgICBpZiB1c2Vfc2VyaWVzIGlzIE5vbmU6IHVzZV9zZXJpZXMgPSAnMCcKICAgIGlmIHVzZV9wcm9wZXJ0aWVzIGlzIE5vbmU6IHVzZV9wcm9wZXJ0aWVzID0gJzAnCiAgICBpZiB1c2VfbWFyayBpcyBOb25lOiB1c2VfbWFyayA9ICcwJwogICAgaWYgZGVsZXRlX2ZpbGVzIGlzIE5vbmU6IGRlbGV0ZV9maWxlcyA9ICcwJwogICAgaWYgcGF0aCBpcyBOb25lOiBwYXRoID0gJy8vc3RvcmFnZS9lbXVsYXRlZC8wL2Rvd25sb2FkLycKCiAgICB1aV9nbG9iYWwucHV0X2NvbnN0YW50cygodXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMsIHVzZV9tYXJrLCBwYXRoLCBkZWxldGVfZmlsZXMpKQogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgnbGlzdGVuZXInKQogICAgaWYgbGlzdGVuZXIgPT0gJ2J0bl9jb3B5X2Jhc2UnOgogICAgICAgIGlwX2hvc3QgPSBoYXNoTWFwLmdldCgnaXBfaG9zdCcpCiAgICAgICAgd2l0aCBvcGVuKCcvL2RhdGEvZGF0YS9ydS50cmF2ZWxmb29kLnNpbXBsZV91aS9kYXRhYmFzZXMvU2ltcGxlV01TJywgJ3JiJykgYXMgZjoKICAgICAgICAgICAgciA9IHJlcXVlc3RzLnBvc3QoJ2h0dHA6Ly8nICsgaXBfaG9zdCArICc6MjQ0NC9wb3N0JywgZmlsZXM9eydTaW1wbGVXTVMnOiBmfSkKICAgICAgICBpZiByLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ3RvYXN0JywgJ9CR0LDQt9CwIFNRTGl0ZSDRg9GB0L/QtdGI0L3QviDQstGL0LPRgNGD0LbQtdC90LAnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQntGI0LjQsdC60LAg0YHQvtC10LTQuNC90LXQvdC40Y8nKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9sb2NhbF9maWxlcyc6CiAgICAgICAgIyBwYXRoID0gaGFzaE1hcC5nZXQoJ2xvY2FscGF0aCcpCiAgICAgICAgcGF0aCA9IGhhc2hNYXAuZ2V0KCdwYXRoJykKICAgICAgICBkZWxldGVfZmlsZXMgPSBoYXNoTWFwLmdldCgnZGVsZXRlX2ZpbGVzJykKICAgICAgICBpZiBub3QgZGVsZXRlX2ZpbGVzOiBkZWxldGVfZmlsZXMgPSAnMCcKICAgICAgICBpZiBub3QgcGF0aDogcGF0aCA9ICcvL3N0b3JhZ2UvZW11bGF0ZWQvMC9kb3dubG9hZC8nCiAgICAgICAgcmV0X3RleHQgPSB1aV9jc3YubGlzdF9mb2xkZXIocGF0aCwgZGVsZXRlX2ZpbGVzKQoKICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCByZXRfdGV4dCkKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ2J0bl9leHBvcnQnOgogICAgICAgIHVpX2Nzdi5leHBvcnRfY3N2KHBhdGgsIGhhc2hNYXAuZ2V0KCdpcF9hZHInKSwgaGFzaE1hcC5nZXQoJ0FORFJPSURfSUQnKSkKICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0JTQsNC90L3Ri9C1INCy0YvQs9GA0YPQttC10L3RiycpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKCiAgICAgICAgaGFzaE1hcC5wdXQoJ0ZpbmlzaFByb2Nlc3MnLCAnJykKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBpbml0X29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGdvb2RzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgICMgaGFzaE1hcC5wdXQoIm1tX2xvY2FsIiwgIiIpCiAgICAjIGhhc2hNYXAucHV0KCJtbV9jb21wcmVzc2lvbiIsICI3MCIpCiAgICAjIGhhc2hNYXAucHV0KCJtbV9zaXplIiwgIjY1IikKICAgIGxpc3QgPSB1aV9mb3JtX2RhdGEuZ2V0X2dvb2RzX2NhcmQoKQogICAgbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10gPSBbXQogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfZ29vZHNfcXVlcnkoKQoKICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0KQoKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICBwcm9kdWN0X3JvdyA9IHsKICAgICAgICAgICAgJ2tleSc6IHN0cihyZWNvcmRbMF0pLAogICAgICAgICAgICAnR1RJTic6IHN0cihyZWNvcmRbMF0pLAogICAgICAgICAgICAnbmFtZSc6IHN0cihyZWNvcmRbM10pLAogICAgICAgICAgICAnY29kZSc6IHN0cihyZWNvcmRbMV0pLAogICAgICAgICAgICAndHlwZV9uYW1lJzogc3RyKHJlY29yZFs1XSksCiAgICAgICAgICAgICd1bml0X25hbWUnOiBzdHIocmVjb3JkWzddKQogICAgICAgIH0KICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXS5hcHBlbmQocHJvZHVjdF9yb3cpCiAgICAjICoqKioqKioqKioqKioqKioqKioqKioKICAgIGhhc2hNYXAucHV0KCJnb29kc19jYXJkcyIsIGpzb24uZHVtcHMobGlzdCkpCgogICAgcmV0dXJuIGhhc2hNYXAKCgojINCX0LDQv9C+0LvQvdC10L3QuNC1INGB0L/QuNGB0LrQsCDQtNC+0LrRg9C80LXQvdGC0L7QsgpkZWYgcmVmaWxsX2RvY3NfbGlzdChmaWx0ZXI9JycpOgogICAgZG9jX2xpc3QgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY19jYXJkKCkKICAgIGRvY19saXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCgogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfZG9jX3F1ZXJ5KGZpbHRlcikKCiAgICBpZiBmaWx0ZXIgPT0gJycgb3IgZmlsdGVyID09ICfQktGB0LUnOgogICAgICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0KQogICAgZWxzZToKICAgICAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKGZpbHRlciwpKQoKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICBpZiByZWNvcmRbOF0gPT0gMToKICAgICAgICAgICAgY29tcGxldGVkID0gJ3RydWUnCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY29tcGxldGVkID0gJ2ZhbHNlJwogICAgICAgIHByb2R1Y3Rfcm93ID0gewogICAgICAgICAgICAnY29tcGxldGVkJzogY29tcGxldGVkLAogICAgICAgICAgICAndHlwZSc6IHN0cihyZWNvcmRbMV0pLAogICAgICAgICAgICAnbnVtYmVyJzogc3RyKHJlY29yZFsyXSksCiAgICAgICAgICAgICdkYXRhJzogc3RyKHJlY29yZFszXSksCiAgICAgICAgICAgICdrZXknOiByZWNvcmRbMF0sCiAgICAgICAgICAgICd3YXJlaG91c2UnOiByZWNvcmRbN10sCiAgICAgICAgICAgICdjb3VudHJhZ2VudCc6IHJlY29yZFs2XSwKICAgICAgICAgICAgJ2FkZF9tYXJrX3NlbGVjdGlvbic6cmVjb3JkWzEwXQogICAgICAgIH0KICAgICAgICBkb2NfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgIHJldHVybiBqc29uLmR1bXBzKGRvY19saXN0KQoKCmRlZiBkb2NzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgICMg0JfQsNC/0L7Qu9C90LjQvCDQv9C+0LvQtSDRhNC40LvRjNGC0YDQsCDQv9C+INCy0LjQtNGDINC00L7QutGD0LzQtdC90YLQvtCyCiAgICByZXN1bHQgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCh1aV9mb3JtX2RhdGEuZ2V0X2RvY190eXBlX3F1ZXJ5KCkpCiAgICBpZiBoYXNoTWFwLmdldCgnZG9jX3R5cGVfc2VsZWN0JykgPT0gTm9uZToKICAgICAgICBkb2NfdHlwZV9saXN0ID0gJ9CS0YHQtScKICAgICAgICBmb3IgcmVjb3JkIGluIHJlc3VsdDoKICAgICAgICAgICAgZG9jX3R5cGVfbGlzdCA9IGRvY190eXBlX2xpc3QgKyAoJzsnICsgcmVjb3JkWzBdKQogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfdHlwZV9zZWxlY3QnLCBkb2NfdHlwZV9saXN0KQoKICAgICMgaGFzaE1hcC5wdXQoJ2RvY190eXBlX2NsaWNrJywgJ9CS0YHQtScpCgogICAgIyDQn9C10YDQtdC30LDQv9C+0LvQvdC40Lwg0YHQv9C40YHQvtC6INC00L7QutGD0LzQtdC90YLQvtCyCiAgICBpZiBoYXNoTWFwLmdldCgnZG9jX3R5cGVfY2xpY2snKSA9PSBOb25lOgogICAgICAgIGxzID0gcmVmaWxsX2RvY3NfbGlzdCgpCiAgICBlbHNlOgogICAgICAgIGxzID0gcmVmaWxsX2RvY3NfbGlzdChoYXNoTWFwLmdldCgnZG9jX3R5cGVfY2xpY2snKSkKICAgIGhhc2hNYXAucHV0KCJkb2NDYXJkcyIsIGxzKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGRvY19kZXRhaWxzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgIyDQpNC+0YDQvNC40YDRg9C10Lwg0YLQsNCx0LvQuNGG0YMg0LrQsNGA0YLQvtGH0LXQuiDQuCDQt9Cw0L/RgNC+0YEg0Log0LHQsNC30LUKICAgIHJlcyA9IHVpX2dsb2JhbC5nZXRfY29uc3RhbnRzKCkKICAgIHVzZV9zZXJpZXMgPSByZXNbMV0KICAgIHVzZV9wcm9wZXJ0aWVzID0gcmVzWzJdCiAgICBoYXNoTWFwLnB1dCgndXNlX3Byb3BlcnRpZXMnLCByZXNbMl0pCiAgICBkb2NfZGV0YWlsX2xpc3QgPSB1aV9mb3JtX2RhdGEuZ2V0X2RvY19kZXRhaWxfY2FyZHModXNlX3NlcmllcywgdXNlX3Byb3BlcnRpZXMpCiAgICBkb2NfZGV0YWlsX2xpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddID0gW10KCiAgICAj0J/QvtC70YPRh9Cw0LXQvCDRgtC10LXQutGD0YnQuNC5INC00L7QutGD0LzQtdC90YIKICAgIGN1cnJlbnRfc3RyID0gaGFzaE1hcC5nZXQoInNlbGVjdGVkX2NhcmRfcG9zaXRpb24iKQogICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCdkb2NDYXJkcycpKQogICAgY3VycmVudF9lbGVtID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddW2ludChjdXJyZW50X3N0cildCiAgICBoYXNoTWFwLnB1dCgnYWRkX21hcmtfc2VsZWN0aW9uJywgc3RyKGN1cnJlbnRfZWxlbVsnYWRkX21hcmtfc2VsZWN0aW9uJ10gaWYgY3VycmVudF9lbGVtWydhZGRfbWFya19zZWxlY3Rpb24nXSBlbHNlICcwJykpCgogICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfZG9jX2RldGFpbHNfcXVlcnkoKQoKICAgIHJlc3VsdHMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCAoaWRfZG9jLCkpCgogICAgaWYgcmVzdWx0czoKICAgICAgICBoYXNoTWFwLnB1dCgnaWRfZG9jJywgc3RyKHJlc3VsdHNbMF1bMV0pKQogICAgICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICAgICAgcHJvZHVjdF9yb3cgPSB7CiAgICAgICAgICAgICAgICAna2V5Jzogc3RyKHJlY29yZFswXSksCiAgICAgICAgICAgICAgICAnZ29vZF9uYW1lJzogc3RyKHJlY29yZFszXSksCiAgICAgICAgICAgICAgICAnaWRfZ29vZCc6IHN0cihyZWNvcmRbMl0pLAogICAgICAgICAgICAgICAgJ2lkX3Byb3BlcnRpZXMnOiBzdHIocmVjb3JkWzRdKSwKICAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzX25hbWUnOiBzdHIocmVjb3JkWzVdKSwKICAgICAgICAgICAgICAgICdpZF9zZXJpZXMnOiBzdHIocmVjb3JkWzZdKSwKICAgICAgICAgICAgICAgICdzZXJpZXNfbmFtZSc6IHN0cihyZWNvcmRbN10pLAogICAgICAgICAgICAgICAgJ2lkX3VuaXQnOiBzdHIocmVjb3JkWzhdKSwKICAgICAgICAgICAgICAgICd1bml0c19uYW1lJzogc3RyKHJlY29yZFs5XSksCiAgICAgICAgICAgICAgICAnY29kZV9hcnQnOiAn0JrQvtC0OiAnICsgc3RyKHJlY29yZFsyXSksCgogICAgICAgICAgICAgICAgJ3F0dHknOiBzdHIocmVjb3JkWzEwXSBpZiByZWNvcmRbMTBdIGlzIG5vdCBOb25lIGVsc2UgMCksCiAgICAgICAgICAgICAgICAncXR0eV9wbGFuJzogc3RyKHJlY29yZFsxMV0gaWYgcmVjb3JkWzExXSBpcyBub3QgTm9uZSBlbHNlIDApLAogICAgICAgICAgICAgICAgJ3ByaWNlJzogc3RyKHJlY29yZFsxMl0gaWYgcmVjb3JkWzEyXSBpcyBub3QgTm9uZSBlbHNlIDApLAogICAgICAgICAgICAgICAgJ3ByaWNlX25hbWUnOiBzdHIocmVjb3JkWzEzXSksCiAgICAgICAgICAgICAgICAncGljdHVyZSc6ICcjZjAyYScgaWYgcmVjb3JkWzE0XSAhPSAwIGVsc2UgJyNmMDBjJwogICAgICAgICAgICB9CgogICAgICAgICAgICBkb2NfZGV0YWlsX2xpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddLmFwcGVuZChwcm9kdWN0X3JvdykKCiAgICBoYXNoTWFwLnB1dCgiZG9jX2dvb2RzIiwganNvbi5kdW1wcyhkb2NfZGV0YWlsX2xpc3QpKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGRvY3Nfb25fc2VsZWN0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoImxpc3RlbmVyIikKCiAgICBpZiBsaXN0ZW5lciA9PSAiQ2FyZHNDbGljayI6CiAgICAgICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICAgICBqbGlzdCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImRvY0NhcmRzIikpCiAgICAgICAgY3VycmVudF9kb2MgPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KCiAgICAgICAgIyBpZF9kb2MgPSBjdXJyZW50X2RvY1sna2V5J10KICAgICAgICBoYXNoTWFwLnB1dCgnaWRfZG9jJywgY3VycmVudF9kb2NbJ2tleSddKQogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfdHlwZScsIGN1cnJlbnRfZG9jWyd0eXBlJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY19uJywgY3VycmVudF9kb2NbJ251bWJlciddKQogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfZGF0ZScsIGN1cnJlbnRfZG9jWydkYXRhJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ3dhcmVob3VzZScsIGN1cnJlbnRfZG9jWyd3YXJlaG91c2UnXSkKICAgICAgICBoYXNoTWFwLnB1dCgnY291bnRyYWdlbnQnLCBjdXJyZW50X2RvY1snY291bnRyYWdlbnQnXSkKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImRvY190eXBlX2NsaWNrIjoKICAgICAgICBscyA9IHJlZmlsbF9kb2NzX2xpc3QoaGFzaE1hcC5nZXQoJ2RvY190eXBlX2NsaWNrJykpCiAgICAgICAgaGFzaE1hcC5wdXQoJ2RvY0NhcmRzJywgbHMpCiAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ0xheW91dEFjdGlvbic6CiAgICAgICAgbGF5b3V0X2xpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xheW91dF9saXN0ZW5lcicpCiAgICAgICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X2RvYyA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImNhcmRfZGF0YSIpKQogICAgICAgIGRvYyA9IHVpX2dsb2JhbC5Sc19kb2MKICAgICAgICBkb2MuaWRfZG9jID0gY3VycmVudF9kb2NbJ2tleSddCgogICAgICAgIGlmIGxheW91dF9saXN0ZW5lciA9PSAnQ2hlY2tCb3gxJzoKICAgICAgICAgICAgaWYgY3VycmVudF9kb2NbJ2NvbXBsZXRlZCddID09ICdmYWxzZSc6CiAgICAgICAgICAgICAgICBkb2MubWFya192ZXJpZmllZChkb2MsIDEpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBkb2MubWFya192ZXJpZmllZChkb2MsIDApCgogICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQn9C+0LTRgtCy0LXRgNC00LjRgtGMJzoKICAgICAgICAgICAgZG9jLm1hcmtfdmVyaWZpZWQoZG9jLCAxKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQlNC+0LrRg9C80LXQvdGC0YsnKQogICAgICAgIGVsaWYgbGF5b3V0X2xpc3RlbmVyID09ICfQo9C00LDQu9C40YLRjCc6CiAgICAgICAgICAgIGRvYy5kZWxldGVfZG9jKGRvYykKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9hZGRfZG9jIjoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndC+0LLRi9C5INC00L7QutGD0LzQtdC90YInKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CgogICAgICAgIGhhc2hNYXAucHV0KCdGaW5pc2hQcm9jZXNzJywgJycpCgogICAgICAgICNoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQndC+0LLRi9C5INC00L7QutGD0LzQtdC90YInKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZG9jX2RldGFpbHNfbGlzdGVuZXIoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICMgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAjIGN1cnJlbnRfY2FyZF9saXN0ID0gaGFzaE1hcC5nZXQoImRvY19nb29kcyIpCiAgICAjIGpsID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddCiAgICAjIGlmIG5vdCBjdXJyZW50X2NhcmRfbGlzdCA9PSBOb25lOgogICAgIyAgICAgamxpc3QgPSBqc29uLmxvYWRzKGN1cnJlbnRfY2FyZF9saXN0KQogICAgIyAgICAgY3VycmVudF9lbGVtID0gamxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2NhcmRzZGF0YSddW2ludChjdXJyZW50X3N0ciktMV0KICAgICMgZWxzZToKICAgICMgICAgIGN1cnJlbnRfZWxlbSA9IE5vbmUKICAgIGxpc3RlbmVyID0gaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykKICAgIGlmIGxpc3RlbmVyID09ICJDYXJkc0NsaWNrIjoKCiAgICAgICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgICAgICBjdXJyZW50X3N0ciA9IGhhc2hNYXAuZ2V0KCJzZWxlY3RlZF9jYXJkX3Bvc2l0aW9uIikKICAgICAgICBqbGlzdCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoImRvY19nb29kcyIpKQogICAgICAgIGN1cnJlbnRfZWxlbSA9IGpsaXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXVtpbnQoY3VycmVudF9zdHIpXQogICAgICAgIGhhc2hNYXAucHV0KCJEb2NfZGF0YSIsCiAgICAgICAgICAgICAgICAgICAgaGFzaE1hcC5nZXQoJ2RvY190eXBlJykgKyAnIOKElicgKyBoYXNoTWFwLmdldCgnZG9jX24nKSArCiAgICAgICAgICAgICAgICAgICAgJyDQvtGCJyArIGhhc2hNYXAuZ2V0KCdkb2NfZGF0ZScpKQogICAgICAgIGhhc2hNYXAucHV0KCJHb29kIiwgY3VycmVudF9lbGVtWydnb29kX25hbWUnXSkKICAgICAgICBoYXNoTWFwLnB1dCgicXR0eV9wbGFuIiwgc3RyKGN1cnJlbnRfZWxlbVsncXR0eV9wbGFuJ10pKQogICAgICAgIGlmIGZsb2F0KGN1cnJlbnRfZWxlbVsncXR0eSddKSA9PSAwOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsICcnKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCJxdHR5Iiwgc3RyKGN1cnJlbnRfZWxlbVsncXR0eSddKSkKICAgICAgICBoYXNoTWFwLnB1dCgna2V5JywgY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICBoYXNoTWFwLnB1dCgncHJpY2UnLCBjdXJyZW50X2VsZW1bJ3ByaWNlJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ3ByaWNlX3R5cGUnLCBjdXJyZW50X2VsZW1bJ3ByaWNlX25hbWUnXSkKICAgICAgICAjINCk0L7RgNC80LjRgNGD0LXQvCDRgtCw0LHQu9C40YbRgyBRUiDQutC+0LTQvtCyLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgcXVlcnlfdGV4dCA9IHVpX2Zvcm1fZGF0YS5nZXRfZG9jX2JhcmNvZGVfcXVlcnkoKQogICAgICAgIGFyZ3MgPSBkaWN0KGlkX2dvb2Q9Y3VycmVudF9lbGVtWydpZF9nb29kJ10sIGlkX3Byb3BlcnR5PWN1cnJlbnRfZWxlbVsnaWRfcHJvcGVydGllcyddLAogICAgICAgICAgICAgICAgICAgIGlkX3Nlcmllcz1jdXJyZW50X2VsZW1bJ2lkX3NlcmllcyddLCBpZF91bml0PWN1cnJlbnRfZWxlbVsnaWRfdW5pdCddLCBpZF9kb2M9aGFzaE1hcC5nZXQoJ2RvY19uJykpCgogICAgICAgIGNhcmRzID0gdWlfZm9ybV9kYXRhLmdldF9iYXJjb2RlX2NhcmQoKQogICAgICAgIHJlcyA9IHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIGFyZ3MsIFRydWUpCiAgICAgICAgIyDQpNC+0YDQvNC40YDRg9C10Lwg0YHQv9C40YHQvtC6INC60LDRgNGC0L7Rh9C10Log0LHQsNGA0LrQvtC00L7QsgogICAgICAgIGNhcmRzWydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXSA9IFtdCiAgICAgICAgZm9yIGVsIGluIHJlczoKICAgICAgICAgICAgIyBiYXJjb2RlX2RhdGEgPSB1aV9iYXJjb2Rlcy5nZXRfZ3Rpbl9zZXJpYWxfZnJvbV9kYXRhbWF0cml4KGVsWydiYXJjb2RlJ10pCiAgICAgICAgICAgIGlmIGVsWydhcHByb3ZlZCddID09ICcxJzoKICAgICAgICAgICAgICAgIHBpY3R1cmUgPSAnI2YwMGMnCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwaWN0dXJlID0gJycKICAgICAgICAgICAgcm93ID0gewogICAgICAgICAgICAgICAgJ2JhcmNvZGUnOiBlbFsnbWFya19jb2RlJ10sCiAgICAgICAgICAgICAgICAncGljdHVyZSc6IHBpY3R1cmUKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXJkc1snY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHJvdykKICAgICAgICBoYXNoTWFwLnB1dCgiYmFyY29kZV9jYXJkcyIsIGpzb24uZHVtcHMoY2FyZHMpKQoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQotC+0LLQsNGAIikKCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9iYXJjb2RlcyI6CgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YjRgtGA0LjRhdC60L7QtNGLIikKCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYmFyY29kZSc6CiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICBiYXJjb2RlID0gaGFzaE1hcC5nZXQoJ2JhcmNvZGVfY2FtZXJhJykKICAgICAgICAj0J/RgNC40LfQvdCw0LosINC90LDQtNC+INC70Lgg0LTQvtCx0LDQstC70Y/RgtGMINC+0YLRgdGD0YLRgdGC0LLRg9GO0YnQuNC1INCyINC00L7QutGD0LzQtdC90LXRgtC1INCx0LDRgNC60L7QtNGLCiAgICAgICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQoJ1NFTEVDVCBhZGRfbWFya19zZWxlY3Rpb24gIGZyb20gUlNfZG9jcyBXSEVSRSBpZF9kb2MgPSA/JywoZG9jLmlkX2RvYywpKQogICAgICAgIGlmIHJlc1swXVswXSA9PSAxOgogICAgICAgICAgICBhZGRfaWZfbm90X2ZvdW5kID0gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICBhZGRfaWZfbm90X2ZvdW5kID0gVHJ1ZQoKICAgICAgICByZXMgPSBkb2MuZmluZF9iYXJjb2RlX29uX2RvYyhkb2MsIGJhcmNvZGUsIGFkZF9pZl9ub3RfZm91bmQpCiAgICAgICAgaWYgcmVzID09IE5vbmU6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCdzY2FubmVkX2JhcmNvZGUnLCBiYXJjb2RlKQogICAgICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQntGI0LjQsdC60LAg0YHQutCw0L3QtdGA0LAnKQogICAgICAgICAgICAjIGhhc2hNYXAucHV0KCd0b2FzdCcsCiAgICAgICAgICAgICMgICAgICAgICAgICAgJ9Co0YLRgNC40YUg0LrQvtC0INC90LUg0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNC9INCyINCx0LDQt9C1INC00LDQvdC90YvRhS4g0J/RgNC+0LLQtdGA0YzRgtC1INGC0L7QstCw0YAg0LjQu9C4INCy0YvQv9C+0LvQvdC40YLQtSDQvtCx0LzQtdC9INC00LDQvdC90YvQvNC4JykKICAgICAgICBlbGlmIHJlc1snRXJyb3InXToKICAgICAgICAgICAgaWYgcmVzWydFcnJvciddID09ICdBbHJlYWR5U2Nhbm5lZCc6CgogICAgICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ2JhcmNvZGUnLCBqc29uLmR1bXBzKHsnYmFyY29kZSc6IHJlc1snQmFyY29kZSddLCAnZG9jX2luZm8nOiByZXNbJ2RvY19pbmZvJ119KSkKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCdTaG93U2NyZWVuJywgJ9Cj0LTQsNC70LXQvdC40LUg0YjRgtGA0LjRhdC60L7QtNCwJykKICAgICAgICAgICAgZWxpZiByZXNbJ0Vycm9yJ109PSdRdWFudGl0eVBsYW5SZWFjaGVkJzoKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsIHJlc1snRGVzY3InXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsIHJlc1snRGVzY3InXSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBoYXNoTWFwLnB1dCgndG9hc3QnLCAn0KLQvtCy0LDRgCDQtNC+0LHQsNCy0LvQtdC9INCyINC00L7QutGD0LzQtdC90YInKQogICAgICAgICMgaGFzaE1hcC5wdXQoJ3RvYXN0JywnMScpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnYnRuX2RvY19tYXJrX3ZlcmlmaWVkJzoKICAgICAgICBkb2MgPSB1aV9nbG9iYWwuUnNfZG9jCiAgICAgICAgZG9jLmlkX2RvYyA9IGhhc2hNYXAuZ2V0KCdpZF9kb2MnKQogICAgICAgIGRvYy5tYXJrX3ZlcmlmaWVkKGRvYywgMSkKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgtGLIikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBkZWxldGVfYmFyY29kZV9zY3JlZW5fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgIyDQndCw0YXQvtC00LjQvCBJRCDQtNC+0LrRg9C80LXQvdGC0LAKICAgIGJhcmNvZGVfZGF0YSA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoJ2JhcmNvZGUnKSlbJ2JhcmNvZGUnXQogICAgIyDQndCw0LnQtNC10Lwg0L3Rg9C20L3Ri9C1INC/0L7Qu9GPINC30LDQv9GA0L7RgdC+0Lwg0Log0LHQsNC30LUKICAgIHF0ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9tYXJrY29kZV9xdWVyeSgpCiAgICBhcmdzID0geydpZF9kb2MnOiBoYXNoTWFwLmdldCgnaWRfZG9jJyksCiAgICAgICAgICAgICdpZF9iYXJjb2RlJzogJzAxJyArIGJhcmNvZGVfZGF0YVsnR1RJTiddICsgJzIxJyArIGJhcmNvZGVfZGF0YVsnU0VSSUFMJ119CgogICAgcmVzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXRleHQsIGFyZ3MsIFRydWUpCgogICAgaGFzaE1hcC5wdXQoJ2N1cnJlbnRTdHInLCBqc29uLmR1bXBzKHJlc1swXSkpCiAgICBoYXNoTWFwLnB1dCgiQ3VyU3RyIiwgc3RyKHJlc1swXVsnQ3VyU3RyJ10pKQogICAgaGFzaE1hcC5wdXQoImdvb2QiLCByZXNbMF1bJ2dvb2RfbmFtZSddKQogICAgaGFzaE1hcC5wdXQoIidjb2RlX2FydCciLCByZXNbMF1bJ2dvb2RfY29kZSddKQogICAgaGFzaE1hcC5wdXQoInVuaXRfbmFtZSIsIHN0cihyZXNbMF1bJ3VuaXQnXSkpCiAgICBoYXNoTWFwLnB1dCgnYmFyY29kZV92YWx1ZScsICcwMScgKyBiYXJjb2RlX2RhdGFbJ0dUSU4nXSArICcyMScgKyBiYXJjb2RlX2RhdGFbJ1NFUklBTCddKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGRlbGV0ZV9iYXJjb2RlX3NjcmVlbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCiAgICBpZiBsaXN0ZW5lciA9PSAiYnRuX2JhcmNvZGVfY2FuY2VsIjoKCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9iYXJjb2RlX2RlbGV0ZSI6CiAgICAgICAgZG9jID0gdWlfZ2xvYmFsLlJzX2RvYwogICAgICAgIGRvYy5pZF9kb2MgPSBoYXNoTWFwLmdldCgnaWRfZG9jJykKICAgICAgICBjdXJyZW50X2JhcmNvZGVfc3RyID0gaW50KGhhc2hNYXAuZ2V0KCJDdXJTdHIiKSkKICAgICAgICBlbCA9IGpzb24ubG9hZHMoaGFzaE1hcC5nZXQoJ2N1cnJlbnRTdHInKSkKCiAgICAgICAgIyBkb2MuaWRfc3RyID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgIyBkb2MucXR0eSA9IGZsb2F0KGhhc2hNYXAuZ2V0KCdxdHR5JykpCiAgICAgICAgIyBkb2MudXBkYXRlX2RvY19zdHIoZG9jLCBoYXNoTWFwLmdldCgncHJpY2UnKSkKICAgICAgICBxdWVyeV90ZXh0ID0gJ1VwZGF0ZSAgUlNfZG9jc19iYXJjb2RlcyBTRVQgYXBwcm92ZWQ9PyBXaGVyZSBpZD0/JwogICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsICgnMCcsIGN1cnJlbnRfYmFyY29kZV9zdHIpKQogICAgICAgIGRvYy51cGRhdGVfZG9jX3RhYmxlX2RhdGFfZnJvbV9iYXJjb2RlKGRvYywgZWwsIC0xKQoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAiQkFDS19CVVRUT04iOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGVsZW1fb25fY2xpY2soaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgibGlzdGVuZXIiKQogICAgaWYgbGlzdGVuZXIgPT0gImJ0bl9vayI6CiAgICAgICAgIyDQv9C+0LvRg9GH0LjQvCDRgtC10LrRg9GJ0YPRjiDRgdGC0YDQvtC60YMg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJkb2NfZ29vZHMiKSkKICAgICAgICBjdXJyZW50X2VsZW0gPSBqbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ11baW50KGN1cnJlbnRfc3RyKV0KICAgICAgICBrZXkgPSBpbnQoY3VycmVudF9lbGVtWydrZXknXSkKICAgICAgICAjIC4uLiDQuCDQt9Cw0L/QuNGI0LXQvCDQtdC1INCyINCx0LDQt9GDCgogICAgICAgIGRvYyA9IHVpX2dsb2JhbC5Sc19kb2MKICAgICAgICBkb2MuaWRfc3RyID0gaW50KGN1cnJlbnRfZWxlbVsna2V5J10pCiAgICAgICAgcXR0eSA9IGhhc2hNYXAuZ2V0KCdxdHR5JykKICAgICAgICBkb2MucXR0eSA9IGZsb2F0KHF0dHkpIGlmIHF0dHkgZWxzZSAwCiAgICAgICAgZG9jLnVwZGF0ZV9kb2Nfc3RyKGRvYywgaGFzaE1hcC5nZXQoJ3ByaWNlJykpCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKICAgIGVsaWYgbGlzdGVuZXIgPT0gImJ0bl9jYW5jZWwiOgoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCiAgICBlbGlmIGxpc3RlbmVyID09ICJCQUNLX0JVVFRPTiI6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgZWxpZiBsaXN0ZW5lciA9PSAiIjoKICAgICAgICBoYXNoTWFwLnB1dCgicXR0eSIsIHN0cihmbG9hdChoYXNoTWFwLmdldCgncXR0eScpKSkpCiAgICBlbGlmIGxpc3RlbmVyID09ICdPTl9CQUNLX1BSRVNTRUQnOgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCU0L7QutGD0LzQtdC90YIg0YLQvtCy0LDRgNGLIikKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBnb29kc19vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBsaXN0ZW5lciA9IGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpCgogICAgaWYgbGlzdGVuZXIgPT0gIkNhcmRzQ2xpY2siOgogICAgICAgICMg0J3QsNGF0L7QtNC40LwgSUQg0LTQvtC60YPQvNC10L3RgtCwCiAgICAgICAgY3VycmVudF9zdHIgPSBoYXNoTWFwLmdldCgic2VsZWN0ZWRfY2FyZF9wb3NpdGlvbiIpCiAgICAgICAgamxpc3QgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJnb29kc19jYXJkcyIpKQogICAgICAgIGN1cnJlbnRfZ29vZCA9IGpsaXN0WydjdXN0b21jYXJkcyddWydjYXJkc2RhdGEnXVtpbnQoY3VycmVudF9zdHIpXQoKICAgICAgICAjIGlkX2RvYyA9IGN1cnJlbnRfZG9jWydrZXknXQogICAgICAgIGhhc2hNYXAucHV0KCdpZF9nb29kJywgY3VycmVudF9nb29kWydrZXknXSkKICAgICAgICBoYXNoTWFwLnB1dCgnbmFtZScsIGN1cnJlbnRfZ29vZFsnbmFtZSddKQogICAgICAgIGhhc2hNYXAucHV0KCdjb2RlJywgY3VycmVudF9nb29kWydjb2RlJ10pCiAgICAgICAgaGFzaE1hcC5wdXQoJ3R5cGVfbmFtZScsIGN1cnJlbnRfZ29vZFsndHlwZV9uYW1lJ10pCiAgICAgICAgIyAgICAgICAgaGFzaE1hcC5wdXQoJ3VuaXRfbmFtZScsIGN1cnJlbnRfZ29vZFsndW5pdF9uYW1lJ10pCgogICAgICAgIGhhc2hNYXAucHV0KCJTaG93U2NyZWVuIiwgItCm0LXQvdGLINGC0L7QstCw0YDQsCIpCgogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKCiAgICAgICAgaGFzaE1hcC5wdXQoJ0ZpbmlzaFByb2Nlc3MnLCAnJykKCiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBwcmljZV9vbl9zdGFydChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZF9nb29kID0gaGFzaE1hcC5nZXQoJ2lkX2dvb2QnKQogICAgIyDQpNC+0YDQvNC40YDRg9C10Lwg0YLQsNCx0LvQuNGG0YMg0LrQsNGA0YLQvtGH0LXQuiDQuCDQt9Cw0L/RgNC+0YEg0Log0LHQsNC30LUKICAgIGdvb2RzX3ByaWNlX2xpc3QgPSB1aV9mb3JtX2RhdGEuZ2V0X3ByaWNlX2NhcmQoKQogICAgZ29vZHNfcHJpY2VfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10gPSBbXQoKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X3ByaWNlX3F1ZXJ5KCkKCiAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKGlkX2dvb2QsKSkKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICBwcm9kdWN0X3JvdyA9IHsKICAgICAgICAgICAgJ2tleSc6IHN0cihyZWNvcmRbMF0pLAogICAgICAgICAgICAnZ29vZF9uYW1lJzogc3RyKHJlY29yZFszXSksCiAgICAgICAgICAgICMgJ2lkX3Byb3BlcnRpZXMnOiBzdHIocmVjb3JkWzNdKSwKICAgICAgICAgICAgJ3Byb3BlcnRpZXNfbmFtZSc6IHN0cihyZWNvcmRbNV0pLAogICAgICAgICAgICAjICdpZF9zZXJpZXMnOiBzdHIocmVjb3JkWzVdKSwKICAgICAgICAgICAgJ3Nlcmllc19uYW1lJzogc3RyKHJlY29yZFs3XSl9CiAgICByZXR1cm4gaGFzaE1hcAoKCmRlZiBwcmljZV9vbl9jbGljayhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQotC+0LLQsNGA0Ysg0YHQv9C40YHQvtC6IikKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIG5ld19kb2Nfb25fc3RhcnQoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaWYgaGFzaE1hcC5nZXQoJ2RvY190eXBlX3NlbGVjdCcpID09IE5vbmU6CiAgICAgICAgIyDQl9Cw0L/QvtC70L3QuNC8INC/0L7Qu9C1INGE0LjQu9GM0YLRgNCwINC/0L4g0LLQuNC00YMg0LTQvtC60YPQvNC10L3RgtC+0LIKICAgICAgICByZXN1bHQgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCh1aV9mb3JtX2RhdGEuZ2V0X2RvY190eXBlX3F1ZXJ5KCkpCiAgICAgICAgZG9jX3R5cGVfbGlzdCA9ICfQktGB0LUnCiAgICAgICAgZm9yIHJlY29yZCBpbiByZXN1bHQ6CiAgICAgICAgICAgIGRvY190eXBlX2xpc3QgPSBkb2NfdHlwZV9saXN0ICsgKCc7JyArIHJlY29yZFswXSkKICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX3R5cGVfc2VsZWN0JywgZG9jX3R5cGVfbGlzdCkKCiAgICBpZiBoYXNoTWFwLmdldCgnY291bnRyYWdlbnQnKSA9PSBOb25lOgogICAgICAgIGZsZF9jb3VudHJhZ2VudCA9IHVpX2dsb2JhbC5nZXRfbmFtZV9saXN0KCdSU19jb3VudHJhZ2VudHMnKQogICAgICAgIGhhc2hNYXAucHV0KCdjb3VudHJhZ2VudCcsIGZsZF9jb3VudHJhZ2VudCkKCiAgICBpZiBoYXNoTWFwLmdldCgnd2FyZWhvdXNlJykgPT0gTm9uZToKICAgICAgICBmbGRfY291bnRyYWdlbnQgPSB1aV9nbG9iYWwuZ2V0X25hbWVfbGlzdCgnUlNfd2FyZWhvdXNlcycpCiAgICAgICAgaGFzaE1hcC5wdXQoJ3dhcmVob3VzZScsIGZsZF9jb3VudHJhZ2VudCkKCiAgICBpZiBub3QgaGFzaE1hcC5jb250YWluc0tleSgnZG9jX2RhdGUnKToKICAgICAgICBoYXNoTWFwLnB1dCgnZG9jX2RhdGUnLCAnMDEuMDEuMjAyMicpCgogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgbmV3X2RvY19vbl9zZWxlY3QoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgbGlzdGVuZXIgPSBoYXNoTWFwLmdldCgibGlzdGVuZXIiKQogICAgdHlwZSA9IGhhc2hNYXAuZ2V0KCdkb2NfdHlwZV9jbGljaycpCiAgICBpZiBub3QgdHlwZToKICAgICAgICB0eXBlID0gJ9Cf0YDQuNGF0L7QtCcKICAgIGZsZF9udW1iZXIgPSBoYXNoTWFwLmdldCgnZmxkX251bWJlcicpCgoKCgogICAgaWYgbGlzdGVuZXIgPT0gImJ0bl9vayI6CiAgICAgICAgaWYgbm90IGZsZF9udW1iZXI6CgogICAgICAgICAgICBpZCA9IHVpX2dsb2JhbC5Sc19kb2MuZ2V0X25ld19pZCgxKQogICAgICAgICAgICAjaWQgPSAoZid7aWQ6MDR9JykKICAgICAgICAgICAgI2lkID0gInswOjA+NH0iLmZvcm1hdChpZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZCA9IGZsZF9udW1iZXIKCiAgICAgICAgdHJ5OgogICAgICAgICAgICB1aV9nbG9iYWwuUnNfZG9jLmFkZCgnMDEnLCAoaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQsICNoYXNoTWFwLmdldCgnZmxkX251bWJlcicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoTWFwLmdldCgnZmxkX2RhdGEnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfYnlfbmFtZShoYXNoTWFwLmdldCgnZmxkX2NvdW50cmFnZW50JyksICdSU19jb3VudHJhZ2VudHMnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfYnlfbmFtZShoYXNoTWFwLmdldCgnZG9jX3dhcmVob3VzZScpLCAnUlNfd2FyZWhvdXNlcycpKSkKICAgICAgICAgICAgaGFzaE1hcC5wdXQoJ1Nob3dTY3JlZW4nLCAn0JTQvtC60YPQvNC10L3RgtGLJykKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGhhc2hNYXAucHV0KCd0b2FzdCcsICfQndC+0LzQtdGAINC00L7QutGD0LzQtdC90YLQsCDQvdC10YPQvdC40LrQsNC70LXQvSEnKQoKCiAgICBlbGlmIGxpc3RlbmVyID09ICdidG5fY2FuY2VsJzoKICAgICAgICBoYXNoTWFwLnB1dCgnU2hvd1NjcmVlbicsICfQlNC+0LrRg9C80LXQvdGC0YsnKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnZmxkX2RhdGEnOgogICAgICAgIGhhc2hNYXAucHV0KCdkb2NfZGF0ZScsIGhhc2hNYXAuZ2V0KCdmbGRfZGF0YScpKQogICAgZWxpZiBsaXN0ZW5lciA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGC0YsiKQogICAgcmV0dXJuIGhhc2hNYXAKCgpkZWYgZG9jX2JhcmNvZGVzX29uX3N0YXJ0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGRvY19kZXRhaWxfbGlzdCA9IHVpX2Zvcm1fZGF0YS5nZXRfYmFyY29kZV9jYXJkKCkKICAgIHF1ZXJ5X3RleHQgPSB1aV9mb3JtX2RhdGEuZ2V0X2JhcmNvZGVfcXVlcnkoKQogICAgaWRfZG9jID0gaGFzaE1hcC5nZXQoJ2lkX2RvYycpCiAgICByZXN1bHRzID0gdWlfZ2xvYmFsLmdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKGlkX2RvYywpKQoKICAgIGZvciByZWNvcmQgaW4gcmVzdWx0czoKICAgICAgICBwcm9kdWN0X3JvdyA9IHsKICAgICAgICAgICAgJ2tleSc6IHN0cihyZWNvcmRbMF0pLAogICAgICAgICAgICAnYmFyY29kZV92YWx1ZSc6IHN0cihyZWNvcmRbM10pLAogICAgICAgICAgICAnYXBwcm92ZWQnOiBzdHIocmVjb3JkWzRdKQoKICAgICAgICB9CgogICAgICAgIGRvY19kZXRhaWxfbGlzdFsnY3VzdG9tY2FyZHMnXVsnY2FyZHNkYXRhJ10uYXBwZW5kKHByb2R1Y3Rfcm93KQoKICAgIGhhc2hNYXAucHV0KCJiYXJjX2NhcmRzIiwganNvbi5kdW1wcyhkb2NfZGV0YWlsX2xpc3QpKQoKICAgIHJldHVybiBoYXNoTWFwCgoKZGVmIGRvY19iYXJjb2Rlc19saXN0ZW5lcihoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaWYgaGFzaE1hcC5nZXQoJ2xpc3RlbmVyJykgPT0gJ09OX0JBQ0tfUFJFU1NFRCc6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgcmV0dXJuIGhhc2hNYXAKCmRlZiBiYXJjb2RlX2Vycm9yX3NjcmVlbl9saXN0ZW5lcihoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiBoYXNoTWFwLmdldCgnbGlzdGVuZXInKSA9PSAnT05fQkFDS19QUkVTU0VEJzoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsICLQlNC+0LrRg9C80LXQvdGCINGC0L7QstCw0YDRiyIpCiAgICBlbGlmIGhhc2hNYXAuZ2V0KCdsaXN0ZW5lcicpID09ICdidG5fY29udGludWVfc2Nhbic6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCAi0JTQvtC60YPQvNC10L3RgiDRgtC+0LLQsNGA0YsiKQogICAgcmV0dXJuIGhhc2hNYXAK",
        "RunPython": true,
        "PyTimerTask": [],
        "PyFiles": [
            {
                "PyFileKey": "ui_global",
                "PyFileData": "ZnJvbSBwb255Lm9ybSBpbXBvcnQgRGF0YWJhc2UsIFJlcXVpcmVkLCBQcmltYXJ5S2V5LCBPcHRpb25hbAppbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHNxbGl0ZTMKZnJvbSBzcWxpdGUzIGltcG9ydCBFcnJvcgppbXBvcnQgdWlfYmFyY29kZXMKaW1wb3J0IG9zCgppbXBvcnQgdWlfZm9ybV9kYXRhCgojINCS0L7RgiDRgtCw0LrQuNC8INC90LXQt9Cw0YLQtdC50LvQuNCy0YvQvCDQvNC10YLQvtC00L7QvCDQvtC/0YDQtdC00LXQu9GP0LXQvCwg0LzRiyDQt9Cw0L/Rg9GB0YLQuNC70LjRgdGMINC90LAg0LrQvtC80L/QtSDQuNC70Lgg0L3QsCDQotCh0JQKIyDQndGDINC4INCyINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7Rgiwg0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0LHQsNC30YMKaWYgb3MucGF0aC5leGlzdHMoJy8vZGF0YS9kYXRhL3J1LnRyYXZlbGZvb2Quc2ltcGxlX3VpL2RhdGFiYXNlcy8nKToKICAgIGRiX3BhdGggPSAnLy9kYXRhL2RhdGEvcnUudHJhdmVsZm9vZC5zaW1wbGVfdWkvZGF0YWJhc2VzL1NpbXBsZVdNUycKZWxzZToKICAgIGRiX3BhdGggPSAnRDpcUHl0aG9uUHJvamVjdHNcUmlnaHRTY2FuXFNVSW1haW5cU2ltcGxlV01TLmRiJwoKZGIgPSBEYXRhYmFzZSgpCmRiLmJpbmQocHJvdmlkZXI9J3NxbGl0ZScsIGZpbGVuYW1lPWRiX3BhdGgsIGNyZWF0ZV9kYj1UcnVlKQoKCiMg0KjRgtGA0LjRhdC60L7QtNGLIGJhcmNvZGUsIGlkX2dvb2QsIGlkX3Byb3BlcnR5LCBpZF91bml0CmNsYXNzIFJTX2JhcmNvZGVzKGRiLkVudGl0eSk6CiAgICBiYXJjb2RlID0gUmVxdWlyZWQoc3RyKSAgIyAsIGxlbmdodD0yMDApINCi0LDQutC20LUgR1RJTgogICAgaWRfZ29vZCA9IFJlcXVpcmVkKHN0cikgICMgLCBsZW5naHQ9MzYpCiAgICBpZF9wcm9wZXJ0eSA9IE9wdGlvbmFsKHN0cikgICMgLCBsZW5naHQ9MzYpCiAgICBpZF9zZXJpZXMgPSBPcHRpb25hbChzdHIpCiAgICBpZF91bml0ID0gT3B0aW9uYWwoc3RyKSAgIyAsIGxlbmdodD0zNikKCgojCmNsYXNzIFJTX21hcmtpbmdfY29kZXMoZGIuRW50aXR5KToKICAgIGlkID0gUHJpbWFyeUtleShzdHIpCiAgICBtYXJrX2NvZGUgPSBSZXF1aXJlZChzdHIpICAjINCa0J7QtCDQvNCw0YDQutC40YDQvtCy0LrQuCDRhNC+0YDQvNCw0YLQsCAwMStHVElOKzIxK1NFUklBTAogICAgaWRfZ29vZCA9IFJlcXVpcmVkKHN0cikgICMgLCBsZW5naHQ9MzYpCiAgICBpZF9wcm9wZXJ0eSA9IE9wdGlvbmFsKHN0cikgICMgLCBsZW5naHQ9MzYpCiAgICBpZF9zZXJpZXMgPSBPcHRpb25hbChzdHIpCiAgICBpZF91bml0ID0gT3B0aW9uYWwoc3RyKSAgIyAsIGxlbmdodD0zNikKCgojINCd0L7QvNC10L3QutC70LDRgtGD0YDQsApjbGFzcyBSU19nb29kcyhkYi5FbnRpdHkpOgogICAgaWRfZWxlbSA9IFByaW1hcnlLZXkoc3RyKSAgIyAsIGxlbmdodD0zNikKICAgIGNvZGUgPSBSZXF1aXJlZChzdHIpCiAgICBuYW1lID0gT3B0aW9uYWwoc3RyKQogICAgYXJ0ID0gT3B0aW9uYWwoc3RyKQogICAgdW5pdCA9IE9wdGlvbmFsKHN0cikKICAgIHR5cGVfZ29vZCA9IE9wdGlvbmFsKHN0cikgICMg0JLQuNC0INC90L7QvNC10L3QutC70LDRgtGD0YDRiwogICAgZGVzY3JpcHRpb24gPSBPcHRpb25hbChzdHIpCgoKIyDQpdCw0YDQsNC60YLQtdGA0LjRgdGC0LjQutC4INC90L7QvNC10L3QutC70LDRgtGD0YDRiwpjbGFzcyBSU19wcm9wZXJ0aWVzKGRiLkVudGl0eSk6CiAgICBpZF9lbGVtID0gUmVxdWlyZWQoc3RyKSAgIyAsIGxlbmdodD0zNikKICAgIGlkX293bmVyID0gUmVxdWlyZWQoc3RyKSAgIyAsIGxlbmdodD0zNikgICMgaWQg0J3QvtC80LXQvdC60LvQsNGC0YPRgNGLCiAgICBuYW1lID0gT3B0aW9uYWwoc3RyKQoKCiMg0KPQv9Cw0LrQvtCy0LrQuCDQldC00LjQvdC40YbRiyDQuNC30LzQtdGA0LXQvdC40Y8KY2xhc3MgUlNfdW5pdHMoZGIuRW50aXR5KToKICAgIGlkX2VsZW0gPSBQcmltYXJ5S2V5KHN0cikKICAgIGlkX293bmVyID0gUmVxdWlyZWQoc3RyKSAgIyAsIGxlbmdodD0zNikgICMgaWQg0J3QvtC80LXQvdC60LvQsNGC0YPRgNGLCiAgICBjb2RlID0gUmVxdWlyZWQoc3RyKQogICAgbmFtZSA9IE9wdGlvbmFsKHN0cikKICAgIG5vbWluYXRvciA9IFJlcXVpcmVkKGludCkgICMg0KfQuNGB0LvQuNGC0LXQu9GMCiAgICBkZW5vbWluYXRvciA9IFJlcXVpcmVkKGludCkgICMg0JfQvdCw0LzQtdC90LDRgtC10LvRjAogICAgaW50X3JlZHVjdGlvbiA9IE9wdGlvbmFsKHN0cikgICMg0JzQtdC20LTRg9C90LDRgNC+0LTQvdC+0LUg0YHQvtC60YDQsNGJ0LXQvdC40LUKCgojINCS0LjQtNGLINC90L7QvNC10L3QutC70LDRgtGD0YDRiwpjbGFzcyBSU190eXBlc19nb29kcyhkYi5FbnRpdHkpOgogICAgaWRfZWxlbSA9IFByaW1hcnlLZXkoc3RyKSAgIyAsIGxlbmdodD0zNikKICAgIG5hbWUgPSBPcHRpb25hbChzdHIpCgoKIyDQodC10YDQuNC4INC90L7QvNC10L3QutC70LDRgtGD0YDRiwpjbGFzcyBSU19zZXJpZXMoZGIuRW50aXR5KToKICAgIGlkX2VsZW0gPSBQcmltYXJ5S2V5KHN0cikKICAgIG5hbWUgPSBPcHRpb25hbChzdHIpCiAgICBiZXN0X2JlZm9yZSA9IE9wdGlvbmFsKHN0cikgICMg0JPQvtC00LXQvSDQtNC+CiAgICB0eXBlX2dvb2RzID0gT3B0aW9uYWwoc3RyKSAgIyDQktC40LQg0L3QvtC80LXQvdC60LvQsNGC0YPRgNGLIChpZCBSU190eXBlc19nb29kcyApCiAgICBudW1iZXIgPSBPcHRpb25hbChzdHIpCiAgICBwcm9kdWN0aW9uX2RhdGUgPSBPcHRpb25hbChzdHIpICAjINCU0LDRgtCwINC/0YDQvtC40LfQstC+0LTRgdGC0LLQsAoKCiMg0JrQvtC90YLRgNCw0LPQtdC90YLRiwpjbGFzcyBSU19jb3VudHJhZ2VudHMoZGIuRW50aXR5KToKICAgIGlkX2VsZW0gPSBQcmltYXJ5S2V5KHN0cikKICAgIG5hbWUgPSBPcHRpb25hbChzdHIpCiAgICBmdWxsX25hbWUgPSBPcHRpb25hbChzdHIpCiAgICBpbm4gPSBPcHRpb25hbChzdHIpCiAgICBrcHAgPSBPcHRpb25hbChzdHIpCgoKIyDQodC60LvQsNC00YsKY2xhc3MgUlNfd2FyZWhvdXNlcyhkYi5FbnRpdHkpOgogICAgaWRfZWxlbSA9IFByaW1hcnlLZXkoc3RyKQogICAgbmFtZSA9IE9wdGlvbmFsKHN0cikKCgojINCa0LvQsNGB0YHQuNGE0LjQutCw0YLQvtGAINC10LTQuNC90LjRhiDQuNC30LzQtdGA0LXQvdC40Y8KY2xhc3MgUlNfY2xhc3NpZmllcl91bml0cyhkYi5FbnRpdHkpOgogICAgaWRfZWxlbSA9IFByaW1hcnlLZXkoc3RyKSAgIyAsIGxlbmdodD0zNikKICAgIGNvZGUgPSBSZXF1aXJlZChzdHIpCiAgICBuYW1lID0gUmVxdWlyZWQoc3RyKQoKCiMg0JLQuNC00Ysg0YbQtdC9INC90L7QvNC10L3QutC70LDRgtGD0YDRiwpjbGFzcyBSU19wcmljZV90eXBlcyhkYi5FbnRpdHkpOgogICAgaWQgPSBQcmltYXJ5S2V5KHN0cikKICAgIG5hbWUgPSBSZXF1aXJlZChzdHIpCgoKIyDQptC10L3RiyDQvdC+0LzQtdC90LrQu9Cw0YLRg9GA0YsKY2xhc3MgUlNfcHJpY2VzKGRiLkVudGl0eSk6CiAgICBpZF9wcmljZV90eXBlcyA9IFJlcXVpcmVkKHN0cikKICAgIGlkX2dvb2RzID0gUmVxdWlyZWQoc3RyKQogICAgaWRfcHJvcGVydGllcyA9IE9wdGlvbmFsKHN0cikKICAgIHByaWNlID0gT3B0aW9uYWwoZmxvYXQpCiAgICBpZF91bml0ID0gT3B0aW9uYWwoc3RyKQoKCiMg0JLRgdC1INC00L7QutGD0LzQtdC90YLRiyDRgdC/0LjRgdC60L7QvApjbGFzcyBSU19kb2NzKGRiLkVudGl0eSk6CiAgICAjIGlkX2RvYywgZG9jX3R5cGUsIGRvY19uLCBkb2NfZGF0YSwgZ29vZF9pZCwgZ29vZF9tYW1lLCBlZF9pem0sIHF0dHksIHF0dHlfZmFjdAogICAgaWRfZG9jID0gUHJpbWFyeUtleShzdHIpCiAgICBkb2NfdHlwZSA9IFJlcXVpcmVkKHN0cikKICAgIGRvY19uID0gUmVxdWlyZWQoc3RyKQogICAgZG9jX2RhdGEgPSBSZXF1aXJlZChzdHIpCiAgICBpZF9jb3VudHJhZ2VudHMgPSBPcHRpb25hbChzdHIpCiAgICBpZF93YXJlaG91c2UgPSBPcHRpb25hbChzdHIpCiAgICB2ZXJpZmllZCA9IE9wdGlvbmFsKGludCwgc3FsX2RlZmF1bHQ9MCkKICAgIHNlbnQgPSBPcHRpb25hbChpbnQsIHNxbF9kZWZhdWx0PTApCiAgICBhZGRfbWFya19zZWxlY3Rpb24gPSBPcHRpb25hbChpbnQsIHNxbF9kZWZhdWx0PTApCiAgICBjcmVhdGVkX2F0ID0gT3B0aW9uYWwoZGF0ZXRpbWUuZGF0ZXRpbWUsIHNxbF9kZWZhdWx0PSdDVVJSRU5UX1RJTUVTVEFNUCcpCgoKIyDQotCw0LHQu9C40YfQvdCw0Y8g0YfQsNGB0YLRjCDQtNC+0LrRg9C80LXQvdGC0L7QsgpjbGFzcyBSU19kb2NzX3RhYmxlKGRiLkVudGl0eSk6CiAgICBpZF9kb2MgPSBSZXF1aXJlZChzdHIpCiAgICBpZF9nb29kID0gT3B0aW9uYWwoc3RyKQogICAgaWRfcHJvcGVydGllcyA9IE9wdGlvbmFsKHN0cikKICAgIGlkX3NlcmllcyA9IE9wdGlvbmFsKHN0cikKICAgIGlkX3VuaXQgPSBPcHRpb25hbChzdHIpCiAgICBxdHR5ID0gT3B0aW9uYWwoZmxvYXQsIHNxbF9kZWZhdWx0PTApCiAgICBxdHR5X3BsYW4gPSBPcHRpb25hbChmbG9hdCwgc3FsX2RlZmF1bHQ9MCkKICAgIHByaWNlID0gT3B0aW9uYWwoZmxvYXQsIHNxbF9kZWZhdWx0PTApCiAgICBpZF9wcmljZSA9IE9wdGlvbmFsKHN0cikKICAgIHNlbnQgPSBPcHRpb25hbChpbnQsIHNxbF9kZWZhdWx0PTApCiAgICBsYXN0X3VwZGF0ZWQgPSBPcHRpb25hbChkYXRldGltZS5kYXRldGltZSwgc3FsX2RlZmF1bHQ9J0NVUlJFTlRfVElNRVNUQU1QJykKCgpjbGFzcyBSU19kb2NzX2JhcmNvZGVzKGRiLkVudGl0eSk6CiAgICBpZF9kb2MgPSBSZXF1aXJlZChzdHIpCiAgICAjICAgIGJhcmNvZGUgPSBSZXF1aXJlZChzdHIpCiAgICBpZF9iYXJjb2RlID0gUmVxdWlyZWQoc3RyKQogICAgYmFyY29kZV9mcm9tX3NjYW5uZXIgPSBPcHRpb25hbChzdHIsIG51bGxhYmxlPVRydWUpCiAgICAjICAgIGlkX2dvb2QgPSBPcHRpb25hbChzdHIsbnVsbGFibGU9VHJ1ZSkKICAgIGlzX3BsYW4gPSBSZXF1aXJlZChzdHIsIHNxbF9kZWZhdWx0PScwJykKICAgIGFwcHJvdmVkID0gT3B0aW9uYWwoc3RyLCBzcWxfZGVmYXVsdD0nMCcsIG51bGxhYmxlPVRydWUpCgoKY2xhc3MgUlNfY29uc3RhbnRzKGRiLkVudGl0eSk6CiAgICB1c2Vfc2VyaWVzID0gUmVxdWlyZWQoc3RyLCBzcWxfZGVmYXVsdD0nMCcpCiAgICB1c2VfcHJvcGVydGllcyA9IFJlcXVpcmVkKHN0ciwgc3FsX2RlZmF1bHQ9JzAnKQogICAgdXNlX21hcmsgPSBSZXF1aXJlZChzdHIsIHNxbF9kZWZhdWx0PScwJykKICAgIHBhdGggPSBSZXF1aXJlZChzdHIpICAjINCf0YPRgtGMINC6INC/0LDQv9C60LUg0L7QsdC80LXQvdCwCiAgICBkZWxldGVfZmlsZXMgPSBSZXF1aXJlZChzdHIsIHNxbF9kZWZhdWx0PScwJykgICMg0J/RgNC40LfQvdCw0LosINGD0LTQsNC70Y/RgtGMINGE0LDQudC70Ysg0L7QsdC80LXQvdCwINC/0L7RgdC70LUg0L7QsdC80LXQvdCwINC40Lcg0L/QsNC/0LrQuCDQvtCx0LzQtdC90LAKICAgIHJlc2VydmVkID0gT3B0aW9uYWwoc3RyKQoKCmRiLmdlbmVyYXRlX21hcHBpbmcoY3JlYXRlX3RhYmxlcz1UcnVlKQpkYi5kaXNjb25uZWN0CgoKIyDQntC/0LjRgdCw0L3QuNC1INC+0LHRitC10LrRgtC+0LIg0LHQsNC30Ysg0Lgg0LjRhSDQuNC30LzQtdC90LXQvdC40LUKCmNsYXNzIFJzX2RvYygpOgogICAgaWRfZG9jID0gT3B0aW9uYWwoc3RyKQogICAgaWRfc3RyID0gT3B0aW9uYWwoc3RyKQogICAgcXR0eSA9IE9wdGlvbmFsKGZsb2F0KQoKICAgIGRlZiB1cGRhdGVfZG9jX3N0cihzZWxmLCBwcmljZT0wKToKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgIFVQREFURSBSU19kb2NzX3RhYmxlCiAgICAgICAgU0VUIHF0dHk9PywgcHJpY2U9PwogICAgICAgIFdoZXJlIGlkPT8gIiIiCiAgICAgICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKHNlbGYucXR0eSwgcHJpY2UsIHNlbGYuaWRfc3RyKSkKICAgICAgICByZXR1cm4gcmVzCgogICAgZGVmIGRlbGV0ZV9kb2Moc2VsZik6CiAgICAgICAgcXVlcnlfZG9jX3RhYmxlID0gJ0RFTEVURSBGUk9NIFJTX2RvY3NfdGFibGUgV0hFUkUgaWRfZG9jID0gPycKICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X2RvY190YWJsZSwgKHNlbGYuaWRfZG9jLCkpCiAgICAgICAgcXVlcnlfZG9jX3RhYmxlID0gJ0RFTEVURSBGUk9NIFJTX2RvY3NfYmFyY29kZXMgV0hFUkUgaWRfZG9jID0gPycKICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X2RvY190YWJsZSwgKHNlbGYuaWRfZG9jLCkpCiAgICAgICAgcXVlcnlfZG9jID0gJ0RFTEVURSBGUk9NIFJTX2RvY3MgV0hFUkUgaWRfZG9jID0gPycKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X2RvYywgKHNlbGYuaWRfZG9jLCkpCgogICAgICAgIHJldHVybiByZXMKCiAgICBkZWYgbWFya19mb3JfdXBsb2FkKHNlbGYpOgogICAgICAgIHF1ZXJ5ID0gIiIiCiAgICAgICAgVVBEQVRFIFJTX2RvY3NfdGFibGUKICAgICAgICBTRVQgc2VudD0xCiAgICAgICAgV2hlcmUgaWQ9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5pZF9kb2MpKQoKICAgICAgICByZXR1cm4gcmVzCgogICAgZGVmIG1hcmtfdmVyaWZpZWQoc2VsZiwga2V5KToKICAgICAgICBxdWVyeSA9ICIiIgogICAgICAgICAgICAgICAgVVBEQVRFIFJTX2RvY3MKICAgICAgICAgICAgICAgIFNFVCB2ZXJpZmllZD0/CiAgICAgICAgICAgICAgICBXaGVyZSBpZF9kb2M9PyAiIiIKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoaW50KGtleSksIHNlbGYuaWRfZG9jKSkKCiAgICBkZWYgZmluZF9iYXJjb2RlX2luX3RhYmxlKHNlbGYsIHNlYXJjaF92YWx1ZTogc3RyLCBmdW5jX2NvbXBhcmVkPSc9PycpIC0+IG9iamVjdDoKCiAgICAgICAgcXVlcnkgPSAnJycKICAgICAgICAgICAgICAgICBTRUxFQ1QKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF9nb29kLAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3Byb3BlcnR5LAogICAgICAgICAgICAgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICAgICAgICAgICAgICBSU19iYXJjb2Rlcy5pZF91bml0LAogICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWQsCiAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5xdHR5ICAgICAgICAKICAgICAgICAgICAgICAgICBGUk9NIFJTX2JhcmNvZGVzCiAgICAgICAgICAgICAgICAgTGVmdCBqb2luIFJTX2RvY3NfdGFibGUgT04KICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2dvb2Q9IFJTX2JhcmNvZGVzLmlkX2dvb2QgYW5kCiAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzPSBSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSBhbmQKICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3VuaXQ9IFJTX2JhcmNvZGVzLmlkX3VuaXQgQW5kCiAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9kb2M9PwogICAgICAgICAgICAgICAgIHdoZXJlIGJhcmNvZGUgJycnICsgZnVuY19jb21wYXJlZAogICAgICAgICMgcXVlcnkgPSBxdWVyeSArIGZ1bmNfY29tcGFyZWQKCiAgICAgICAgcmV0dXJuIGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChzZWxmLmlkX2RvYywgc2VhcmNoX3ZhbHVlKSwgVHJ1ZSkKCiAgICBkZWYgZmluZF9iYXJjb2RlX2luX21hcmtfdGFibGUoc2VsZiwgc2VhcmNoX3ZhbHVlOiBzdHIsIGZ1bmNfY29tcGFyZWQ9Jz0/JykgLT4gb2JqZWN0OgogICAgICAgIHF1ZXJ5ID0gJycnCiAgICAgICAgICAgICAgICAgICAgICAgIFNFTEVDVAogICAgICAgICAgICAgICAgICAgICAgICBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QsCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfcHJvcGVydHksCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX21hcmtpbmdfY29kZXMuaWRfc2VyaWVzLAogICAgICAgICAgICAgICAgICAgICAgICBSU19tYXJraW5nX2NvZGVzLmlkX3VuaXQsCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIFJTX2RvY3NfdGFibGUucXR0eSAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIEZST00gUlNfbWFya2luZ19jb2RlcwogICAgICAgICAgICAgICAgICAgICAgICBMZWZ0IGpvaW4gUlNfZG9jc190YWJsZSBPTgogICAgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX2dvb2Q9IFJTX21hcmtpbmdfY29kZXMuaWRfZ29vZCBhbmQKICAgICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzPSBSU19tYXJraW5nX2NvZGVzLmlkX3Byb3BlcnR5IGFuZAogICAgICAgICAgICAgICAgICAgICAgICBSU19kb2NzX3RhYmxlLmlkX3VuaXQ9IFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCBBbmQKICAgICAgICAgICAgICAgICAgICAgICAgUlNfZG9jc190YWJsZS5pZF9kb2M9PwogICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBtYXJrX2NvZGUgICcnJyArIGZ1bmNfY29tcGFyZWQKICAgICAgICAjIHF1ZXJ5ID0gcXVlcnkgKyBmdW5jX2NvbXBhcmVkCgogICAgICAgIHJldHVybiBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoc2VsZi5pZF9kb2MsIHNlYXJjaF92YWx1ZSksIFRydWUpCgogICAgZGVmIHVwZGF0ZV9kb2NfdGFibGVfZGF0YV9mcm9tX2JhcmNvZGUoc2VsZiwgZWxlbV9mb3JfYWRkOiBkaWN0LCBxdHR5PTEpOgogICAgICAgICMg0KHQvdCw0YfQsNC70LAg0L7Qv9GA0LXQtNC10LvQuNC8LCDQtdGB0YLRjCDQu9C4INCyINGB0L/QuNGB0LrQtSDRgtC+0LLQsNGA0L7QsiDQtNC+0LrRg9C80LXQvdGC0LAg0L3QsNGIINGC0L7QstCw0YA6CiAgICAgICAgcXRleHQgPSAnU2VsZWN0ICogZnJvbSBSU19kb2NzX3RhYmxlIFdoZXJlIGlkX2RvYz0/IGFuZCBpZF9nb29kID0gPyBhbmQgaWRfcHJvcGVydGllcyA9ID8gYW5kIGlkX3NlcmllcyA9ID8gYW5kIGlkX3VuaXQgPSA/JwogICAgICAgIGFyZ3MgPSAoc2VsZi5pZF9kb2MsIGVsZW1fZm9yX2FkZFsnaWRfZ29vZCddLCBlbGVtX2Zvcl9hZGRbJ2lkX3Byb3BlcnR5J10sIGVsZW1fZm9yX2FkZFsnaWRfc2VyaWVzJ10sCiAgICAgICAgICAgICAgICBlbGVtX2Zvcl9hZGRbJ2lkX3VuaXQnXSkKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCBhcmdzLCBUcnVlKQogICAgICAgIGlmIHJlczogICMg0J3QsNGI0LvQuCDRgdGC0YDQvtC60Lgg0LTQvtC60YPQvNC10L3RgtCwLCDQtNC+0LHQsNCy0LvRj9C10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4KCiAgICAgICAgICAgIGVsID0gcmVzWzBdCiAgICAgICAgICAgICMgaWYgZWxbJ3F0dHknXStxdHR5ID09IDA6CiAgICAgICAgICAgICMgICAgIHF0ZXh0ID0gJ0RFTEVURSBGUk9NIFJTX2RvY3NfdGFibGUgIFdIRVJFIGlkID0gPycKICAgICAgICAgICAgIyAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwgKGVsWydpZCddLCkpCiAgICAgICAgICAgICMgZWxzZToKICAgICAgICAgICAgcXRleHQgPSAnVVBEQVRFIFJTX2RvY3NfdGFibGUgU0VUIHF0dHk9cXR0eSs/LCBsYXN0X3VwZGF0ZWQgPSA/ICBXSEVSRSBpZCA9ID8nCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsIChxdHR5LCBzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLCBlbFsnaWQnXSkpCiAgICAgICAgZWxzZTogICMg0KLQsNC60L7QuSDRgdGC0YDQvtC60Lgg0L3QtdGCLCDQvdCw0LTQviDQtNC+0LHQsNCy0LjRgtGMCiAgICAgICAgICAgIHF0ZXh0ID0gJ1JFUExBQ0UgSU5UTyBSU19kb2NzX3RhYmxlKGlkX2RvYywgaWRfZ29vZCwgaWRfcHJvcGVydGllcyxpZF9zZXJpZXMsIGlkX3VuaXQsIHF0dHksIHByaWNlLCBpZF9wcmljZSkgVkFMVUVTICg/LD8sPyw/LD8sPyw/LD8pJwogICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoCiAgICAgICAgICAgICAgICBzZWxmLmlkX2RvYywgZWxlbV9mb3JfYWRkWydpZF9nb29kJ10sIGVsZW1fZm9yX2FkZFsnaWRfcHJvcGVydHknXSwgZWxlbV9mb3JfYWRkWydpZF9zZXJpZXMnXSwKICAgICAgICAgICAgICAgIGVsZW1fZm9yX2FkZFsnaWRfdW5pdCddLCBxdHR5LCAwLCAnJykpCgogICAgICAgIHJldHVybiByZXMKCiAgICAjINCk0YPQs9C60YbQuNGPINC00L7QsdCw0LLQu9GP0LXRgiDRgdGC0YDQvtC60YMg0LIg0LzQsNGA0LrQuNGA0L7QstC60YMg0LTQvtC60YPQvNC10L3RgtCwINC90LAg0L7RgdC90L7QstCw0L3QuNC4INCx0LDRgNC60L7QtNCwIChkYXRhTWF0cml4KQogICAgZGVmIGFkZF9tYXJrZWRfY29kZXNfaW5fZG9jKHNlbGYsIGJhcmNvZGVfaW5mbyk6CiAgICAgICAgcXRleHQgPSAnU0VMRUNUICogRlJPTSBSU19tYXJraW5nX2NvZGVzIFdoZXJlIG1hcmtfY29kZSA9PycKICAgICAgICBxX2RvY190ZXh0ID0gJ1JFUExBQ0UgSU5UTyBSU19kb2NzX2JhcmNvZGVzIChpZF9kb2MsIGlkX2JhcmNvZGUsIGJhcmNvZGVfZnJvbV9zY2FubmVyLCBpc19wbGFuLCBhcHByb3ZlZCkgVkFMVUVTICg/LD8sPyw/LD8pJwogICAgICAgICMg0JjRidC10Lwg0LrQvtC0INC80LDRgNC60LjRgNC+0LLQutC4INCyINGC0LDQsdC70LjRhtC1IFJTX21hcmtpbmdfY29kZXMg0L/QviBHVElOINC4IFNFUklBTAogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXRleHQsICgnMDEnICsgYmFyY29kZV9pbmZvWydHVElOJ10gKyAnMjEnICsgYmFyY29kZV9pbmZvWydTRVJJQUwnXSwpLCBUcnVlKQogICAgICAgIGlmIHJlczoKICAgICAgICAgICAgIyDQndCw0YjQu9C4INGC0LDQutC+0Lkg0LHQsNGA0LrQvtC0INCyINGB0L/QuNGB0LrQtSDQvNCw0YDQutC40YDQvtCy0LrQuCwg0LfQsNC/0L7Qu9C90Y/QtdC8INGB0YLRgNC+0LrRgyDQvNCw0YDQutC40YDQvtCy0LrQuCDQtNC+0LrRg9C80LXQvdGC0LAKCiAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocV9kb2NfdGV4dCwgKHNlbGYuaWRfZG9jLCByZXNbMF1bJ2lkJ10sIGJhcmNvZGVfaW5mb1snRnVsbEJhcmNvZGUnXSwgJzAnLCAnMScpLCBUcnVlKQogICAgICAgICAgICByZXR1cm4gcmVzWzBdCiAgICAgICAgZWxzZTogICMg0J3QtSDQvdCw0YjQu9C4IC0g0L/RgNC+0LHRg9C10Lwg0LjRgdC60LDRgtGMINC/0L4gR1RJTiDQsiDRgtCw0LHQu9C40YbQtSDQsdCw0YDQutC+0LTQvtCyCiAgICAgICAgICAgIHJlcyA9IHNlbGYuZmluZF9iYXJjb2RlX2luX21hcmtfdGFibGUoc2VsZiwgJzAxJyArIGJhcmNvZGVfaW5mb1snR1RJTiddICsgJyUnLCAnTGlrZSA/JykKICAgICAgICAgICAgaWYgcmVzOiAgIyDQndCw0YjQu9C4INC/0L4gR1RJTiwg0LfQsNC/0L7Qu9C90Y/QtdC8INC00L7QutGD0LzQtdC90YIKICAgICAgICAgICAgICAgIGVsID0gcmVzWzBdCiAgICAgICAgICAgICAgICAjINCh0L3QsNGH0LDQu9CwINC30LDQv9C+0LvQvdC40Lwg0YLQsNCx0LvQuNGG0YMgUlNfbWFya2luZ19jb2RlcwogICAgICAgICAgICAgICAgcXRleHQgPSAnUkVQTEFDRSBJTlRPIFJTX21hcmtpbmdfY29kZXMgKGlkLCBtYXJrX2NvZGUsIGlkX2dvb2QsIGlkX3Byb3BlcnR5LCBpZF9zZXJpZXMsIGlkX3VuaXQpIFZBTFVFUyAoPyw/LD8sPyw/LD8pJwogICAgICAgICAgICAgICAgbWFya19jb2RlID0gJzAxJyArIGJhcmNvZGVfaW5mb1snR1RJTiddICsgJzIxJyArIGJhcmNvZGVfaW5mb1snU0VSSUFMJ10KICAgICAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXRleHQsICgKICAgICAgICAgICAgICAgICAgICBtYXJrX2NvZGUsIG1hcmtfY29kZSwgZWxbJ2lkX2dvb2QnXSwgZWxbJ2lkX3Byb3BlcnR5J10sIGVsWydpZF9zZXJpZXMnXSwgZWxbJ2lkX3VuaXQnXSkpCiAgICAgICAgICAgICAgICAjINCYINGC0LXQv9C10YDRjCDRgtCw0LHQu9C40YbRgyDQtNC+0LrRg9C80LXQvdGC0LAg0YHQviDRgdGB0YvQu9C60L7QuSDQvdCwIFJTX21hcmtpbmdfY29kZXMKICAgICAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocV9kb2NfdGV4dCwgKHNlbGYuaWRfZG9jLCBtYXJrX2NvZGUsIGJhcmNvZGVfaW5mb1snRnVsbEJhcmNvZGUnXSwgJzAnLCAnMScpKQogICAgICAgICAgICAgICAgZWxbJ21hcmtfY29kZSddID1tYXJrX2NvZGUKICAgICAgICAgICAgICAgIHJldHVybiBlbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgZmluZF9iYXJjb2RlX29uX2RvYyhzZWxmLCBiYXJjb2RlLCBhZGRfaWZfbm90X2ZvdW5kPUZhbHNlKToKICAgICAgICAjINCf0L7Qu9GD0YfQuNC8INGB0YLRgNGD0LrRgtGD0YDRgyDQsdCw0YDQutC+0LTQsAogICAgICAgIGlmIGJhcmNvZGVbMF0gPT0gY2hyKDI5KSBhbmQgbGVuKGJhcmNvZGUpID4gMzE6ICAjIFJlbW92ZSBmaXJzdCBHUzEgY2hhciBmcm9tIGJhcmNvZGUKICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMTpdCiAgICAgICAgYmFyY29kZV9pbmZvID0gdWlfYmFyY29kZXMucGFyc2VfYmFyY29kZShiYXJjb2RlKQogICAgICAgIGlmIGJhcmNvZGVfaW5mby5fX2NvbnRhaW5zX18oJ0VSUk9SJyk6CiAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ0ludmFsaWQgQmFyY29kZScsICdEZXNjcic6ICfQndC10LLQtdGA0L3Ri9C5INGI0YLRgNC40YXQutC+0LQnLAogICAgICAgICAgICAgICAgICAgICdCYXJjb2RlJzogYmFyY29kZV9pbmZvLCAnZG9jX2luZm8nOiBzZWxmLmlkX2RvY30KICAgICAgICAjIC4uLiDQuCDQvdCw0LnQtNC10Lwg0L/QviDQvdC10LzRgyDQstGB0LUg0YfRgtC+INC10YHRgtGMINCyINCx0LDQt9C1CiAgICAgICAgc2hlbWEgPSBiYXJjb2RlX2luZm9bJ1NDSEVNRSddCgogICAgICAgIGlmIGdldF9jb25zdGFudHMoJ3VzZV9tYXJrJykgPT0gJ3RydWUnOgogICAgICAgICAgICBpZiBzaGVtYSA9PSAnR1MxJzoKICAgICAgICAgICAgICAgIGJhcmNvZGVfaW5mb1snRnVsbEJhcmNvZGUnXSA9IGJhcmNvZGUKICAgICAgICAgICAgICAgIHJlcyA9IGZpbmRfYmFyY29kZV9pbl9tYXJraW5nX2NvZGVzX3RhYmxlKHNlbGYsIGJhcmNvZGVfaW5mbykgICMg0L/QvtC70YPRh9Cw0LXRgiDQvdC10YHQutC+0LvRjNC60L4g0YHRgtGA0L7QujoKICAgICAgICAgICAgICAgICMgMSAtINC/0L4g0L/QvtC70L3QvtC80YMg0YHQvtCy0L/QsNC00LXQvdC40Y4gR1RJTiDQuCDRgdC10YDQuNGPLCDRgdGB0YvQu9C60LAg0L3QsCDRgtC+0LLQsNGACiAgICAgICAgICAgICAgICAjIDIgLSDQv9C+INGB0L7QstC/0LDQtNC10L3QuNGOIEdUSU4g0Lgg0YHRgdGL0LvQutCwINC90LAg0YLQvtCy0LDRgAogICAgICAgICAgICAgICAgaWYgcmVzOiAgIyDQvdCw0YjQu9C4INC30LDQv9C40YHQuCDQv9C+INCx0LDRgNC60L7QtNGDINCyINC00L7QutGD0LzQtdC90YLQtQogICAgICAgICAgICAgICAgICAgIGZvciBlbCBpbiByZXM6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVsWydpZF9iYXJjb2RlJ10gYW5kIGVsWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkX2dvb2QnXTogICMg0L3QsNGI0LvQuCDRgdGC0YDQvtC60YMg0L/QviDQv9C+0LvQvdC+0LzRgyDRgdC+0LLQv9Cw0LTQtdC90LjRjiBHVElOINC4INGB0LXRgNC40Y8sINGB0YHRi9C70LrQsCDQvdCwINGC0L7QstCw0YAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5X3BsYW5fbm90X3JlYWNoZWQgPSBjaGVja19tYXJrX2NvZGVfY29tcGxpYW5jZShlbCwgc2VsZi5pZF9kb2MsIGJhcmNvZGVfaW5mb1snR1RJTiddKSAgI9Ca0L7Qu9C40YfQtdGB0YLQstC+INC80LDRgNC+0Log0LIg0LTQvtC6LiDQvNC10L3RjNGI0LUg0YfQtdC8INC/0LvQsNC9LiDQutC+0LvQuNGH0LXRgdGC0LLQviDRgtC+0LLQsNGA0LAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVsWydhcHByb3ZlZCddID09ICcxJzogICMg0KLQsNC60LDRjyDQvNCw0YDQutCwINGD0LbQtSDQsdGL0LvQsCDQvtGC0YHQutCw0L3QuNGA0L7QstCw0L3QsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7J0Vycm9yJzogJ0FscmVhZHlTY2FubmVkJywgJ0Rlc2NyJzogJ9Ci0LDQutCw0Y8g0LzQsNGA0LrQsCDRg9C20LUg0LHRi9C70LAg0L7RgtGB0LrQsNC90LjRgNC+0LLQsNC90LAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0JhcmNvZGUnOiBiYXJjb2RlX2luZm8sICdkb2NfaW5mbyc6IGVsfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgcXVhbnRpdHlfcGxhbl9ub3RfcmVhY2hlZDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGVsWydpc19wbGFuJ10gPT0gJzEnOiAgIyDRgtC+0LLQsNGAINCx0YvQuyDQstGL0LPRgNGD0LbQtdC9INC40Lcg0YPRh9C10YLQvdC+0Lkg0YHQuNGB0YLQtdC80YssINC90LDQtNC+INGC0L7Qu9GM0LrQviDQv9C+0LTRgtCy0LXRgNC00LjRgtGMINGB0YLRgNC+0LrRgyDQuCDQt9Cw0L/QvtC70L3QuNGC0Ywg0LrQvtC0INGB0L4g0YHQutCw0L3QtdGA0LAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeV90ZXh0ID0gJ1VwZGF0ZSAgUlNfZG9jc19iYXJjb2RlcyBTRVQgYXBwcm92ZWQ9PywgYmFyY29kZV9mcm9tX3NjYW5uZXI9PyBXaGVyZSBpZD0/JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldF9xdWVyeV9yZXN1bHQocXVlcnlfdGV4dCwgKCcxJywgYmFyY29kZSwgaW50KGVsWydpZCddKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51cGRhdGVfZG9jX3RhYmxlX2RhdGFfZnJvbV9iYXJjb2RlKHNlbGYsIGVsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geydSZXN1bHQnOiAn0JrQvtC70LjRh9C10YHRgtCy0L4g0L/Qu9Cw0L0g0LzQtdC90YzRiNC1INC60L7Qu9C40YfQtdGB0YLQstCwINC+0YLRgdC60LDQvdC40YDQvtCy0LDQvdC90YvRhSDQvNCw0YDQvtC6JywgJ0Vycm9yJzogJ1F1YW50aXR5UGxhblJlYWNoZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JhcmNvZGUnOiBiYXJjb2RlX2luZm9bJ0dUSU4nXSArIGJhcmNvZGVfaW5mb1snU0VSSUFMJ10sICdEZXNjcic6ICfQmtC+0LvQuNGH0LXRgdGC0LLQviDQv9C70LDQvSDQvNC10L3RjNGI0LUg0LrQvtC70LjRh9C10YHRgtCy0LAg0L7RgtGB0LrQsNC90LjRgNC+0LLQsNC90L3Ri9GFINC80LDRgNC+0LonfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7J1Jlc3VsdCc6ICfQktGB0LUg0L7QuicsICdFcnJvcic6IE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiYXJjb2RlJzogYmFyY29kZV9pbmZvWydHVElOJ10gKyBiYXJjb2RlX2luZm9bJ1NFUklBTCddfQoKCgogICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGVsWydHVElOJ106ICAjINC90LDRiNC70Lgg0YHRgtGA0L7QutGDINGC0L7Qu9GM0LrQviDQv9C+ICDRgdC+0LLQv9Cw0LTQtdC90LjRjiBHVElOICwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MgICMg0KHQuNGC0YPQsNGG0LjRjywg0LrQvtCz0LTQsCDQvdCw0LTQviDQtNC+0LHQsNCy0LjRgtGMIEdUSU4g0Lgg0YHQtdGA0LjRjiDQsiDRgdGC0YDQvtC60YMsINC/0L7QutCwINC90LUg0LTQtdC70LDQtdC8CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6ICAjINCd0LjRh9C10LPQviDQsiDRgtCw0LHQu9C40YbQtSDQvdC1INC90LDRiNC70LgsINC00L7QsdCw0LLQu9GP0LXQvCDRgdGC0YDQvtC60YMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkX21hcmtlZF9jb2Rlc19pbl9kb2Moc2VsZiwgYmFyY29kZV9pbmZvKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9Cc0LDRgNC60LAg0LTQvtCx0LDQstC70LXQvdCwINCyINC00L7QutGD0LzQtdC90YInLCAnRXJyb3InOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGVsWydHVElOJ10gKyBlbFsnU0VSSUFMJ119CiAgICAgICAgICAgICAgICBlbHNlOiAgIyDQl9Cw0L/QuNGB0LXQuSDQsiDQtNC+0LrRg9C80LXQvdGC0LUg0L3QtdGCLCDQtNC+0LHQsNCy0LvRj9C10LwKICAgICAgICAgICAgICAgICAgICBpZiBhZGRfaWZfbm90X2ZvdW5kOgogICAgICAgICAgICAgICAgICAgICAgICAj0JjRidC10Lwg0YLQsNC60LjQtSDQt9Cw0L/QuNGB0Lgg0LIg0YLQsNCx0LvQuNGG0LUg0YjRgtGA0LjRhdC60L7QtNC+0LIKICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gc2VsZi5maW5kX2JhcmNvZGVfaW5fbWFya190YWJsZShzZWxmLCAnMDEnKyBiYXJjb2RlX2luZm9bJ0dUSU4nXSArICclJywgJ0xpa2UgPycpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICPQldGB0LvQuCDQutC+0LvQuNGH0LXRgdGC0LLQviDQv9C70LDQvSDRg9C20LUg0LLRi9C/0L7Qu9C90LXQvdC+IC0g0L3QtSDQtNC+0LHQsNCy0LvRj9C10LwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNoZWNrX21hcmtfY29kZV9jb21wbGlhbmNlKHJlc1swXSwgc2VsZi5pZF9kb2MsIGJhcmNvZGVfaW5mb1snR1RJTiddKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbV9saXN0ID0gc2VsZi5hZGRfbWFya2VkX2NvZGVzX2luX2RvYyhzZWxmLCBiYXJjb2RlX2luZm8pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI3BhcmFtX2xpc3RbJ3F0dHknXSA9MQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBhcmFtX2xpc3Q6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBwYXJhbV9kaWN0ID0gcGFyYW1fbGlzdFswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZV9kb2NfdGFibGVfZGF0YV9mcm9tX2JhcmNvZGUoc2VsZiwgcGFyYW1fbGlzdCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsnUmVzdWx0JzogJ9Ca0L7Qu9C40YfQtdGB0YLQstC+INC/0LvQsNC9INC80LXQvdGM0YjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDQvtGC0YHQutCw0L3QuNGA0L7QstCw0L3QvdGL0YUg0LzQsNGA0L7QuicsICdFcnJvcic6ICdRdWFudGl0eVBsYW5SZWFjaGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiYXJjb2RlJzogYmFyY29kZV9pbmZvWydHVElOJ10gKyBiYXJjb2RlX2luZm9bJ1NFUklBTCddLCAnRGVzY3InOiAn0JrQvtC70LjRh9C10YHRgtCy0L4g0L/Qu9Cw0L0g0LzQtdC90YzRiNC1INC60L7Qu9C40YfQtdGB0YLQstCwINC+0YLRgdC60LDQvdC40YDQvtCy0LDQvdC90YvRhSDQvNCw0YDQvtC6J30KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICPQn9C+0YHQutC+0LvRjNC60YMg0L/Qu9Cw0L3QsCDQvdC10YIgLSDQtNC+0LHQsNCy0LvRj9C10LwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtX2xpc3QgPSBzZWxmLmFkZF9tYXJrZWRfY29kZXNfaW5fZG9jKHNlbGYsIGJhcmNvZGVfaW5mbykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICNyZXMgPSBmaW5kX2JhcmNvZGVfaW5fbWFya2luZ19jb2Rlc190YWJsZShzZWxmLCBiYXJjb2RlX2luZm8pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBwYXJhbV9saXN0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgcGFyYW1fZGljdCA9IHBhcmFtX2xpc3RbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZV9kb2NfdGFibGVfZGF0YV9mcm9tX2JhcmNvZGUoc2VsZiwgcGFyYW1fbGlzdCkKCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7J1Jlc3VsdCc6ICfQnNCw0YDQutCwINC00L7QsdCw0LLQu9C10L3QsCDQsiDQtNC+0LrRg9C80LXQvdGCJywgJ0Vycm9yJzogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFyY29kZSc6IGJhcmNvZGVfaW5mb1snR1RJTiddICsgYmFyY29kZV9pbmZvWydTRVJJQUwnXX0KICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geydFcnJvcic6ICdOb3RGb3VuZCcsICdEZXNjcic6ICfQnNCw0YDQutCwINC90LUg0L3QsNC50LTQtdC90LAg0LIg0LTQvtC60YPQvNC10L3RgtC1JywgJ0JhcmNvZGUnOiBiYXJjb2RlX2luZm99CgogICAgICAgIGVsc2U6CgogICAgICAgICAgICBzZWFyY2hfdmFsdWUgPSAnJwogICAgICAgICAgICBpZiBzaGVtYSBpbiBbJ0VBTjEzJywgJ1VOS05PV04nXToKICAgICAgICAgICAgICAgIHNlYXJjaF92YWx1ZSA9IGJhcmNvZGVfaW5mb1snQkFSQ09ERSddCiAgICAgICAgICAgICAgICByZXMgPSBzZWxmLmZpbmRfYmFyY29kZV9pbl90YWJsZShzZWxmLCBzZWFyY2hfdmFsdWUpCiAgICAgICAgICAgIGVsaWYgc2hlbWEgPT0gJ0dTMSc6CgogICAgICAgICAgICAgICAgc2VhcmNoX3ZhbHVlID0gYmFyY29kZV9pbmZvWydHVElOJ10KICAgICAgICAgICAgICAgIHJlcyA9IHNlbGYuZmluZF9iYXJjb2RlX2luX3RhYmxlKHNlbGYsIHNlYXJjaF92YWx1ZSkKCiAgICAgICAgICAgIGlmIG5vdCBsZW4ocmVzKSA9PSAwOgogICAgICAgICAgICAgICAgZWxlbSA9IHJlc1swXQogICAgICAgICAgICBlbHNlOiAgIyDQndC40YfQtdCz0L4g0L3QtSDQvdCw0YjQu9C4LCDQv9GA0L7QsdGD0LXQvCDQuNGB0LrQsNGC0Ywg0YLQvtC70YzQutC+INC/0L4gR1RJTgogICAgICAgICAgICAgICAgIyAgICAgICAgICAgIHNlYXJjaF92YWx1ZSA9ICcwMScgKyBiYXJjb2RlX2luZm9bJ0dUSU4nXVsxOjE0XSAjICsgJyUnICMnMjElJwogICAgICAgICAgICAgICAgc2VhcmNoX3ZhbHVlID0gYmFyY29kZV9pbmZvWydHVElOJ10gKyAnJScKICAgICAgICAgICAgICAgIHJlcyA9IHNlbGYuZmluZF9iYXJjb2RlX2luX3RhYmxlKHNlbGYsIHNlYXJjaF92YWx1ZSwgJ0xJS0UgPycpCiAgICAgICAgICAgICAgICBpZiBub3QgbGVuKHJlcykgPT0gMDoKCiAgICAgICAgICAgICAgICAgICAgZWxlbSA9IHJlc1swXQogICAgICAgICAgICAgICAgZWxzZTogICMg0KLQsNC60L7Qs9C+INGC0L7QstCw0YDQsCDQsiDQsdCw0LfQtSDQvdC10YIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICAgICAgaWYgZWxlbVsnaWQnXSA9PSBOb25lOgogICAgICAgICAgICAgICAgcXVlcnkgPSAnUkVQTEFDRSBJTlRPIFJTX2RvY3NfdGFibGUoaWRfZG9jLCBpZF9nb29kLCBpZF9wcm9wZXJ0aWVzLGlkX3NlcmllcywgaWRfdW5pdCwgcXR0eSwgcHJpY2UsIGlkX3ByaWNlKSBWQUxVRVMgKD8sPyw/LD8sPyw/LD8sPyknCiAgICAgICAgICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5LCAoCiAgICAgICAgICAgICAgICBzZWxmLmlkX2RvYywgZWxlbVsnaWRfZ29vZCddLCBlbGVtWydpZF9wcm9wZXJ0eSddLCBlbGVtWydpZF9zZXJpZXMnXSwgZWxlbVsnaWRfdW5pdCddLCAxLCAwLCAnJykpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBxdWVyeSA9ICdVUERBVEUgUlNfZG9jc190YWJsZSBTRVQgcXR0eT1xdHR5Kz8sIGxhc3RfdXBkYXRlZD0gPyAgV0hFUkUgaWQgPSA/JwogICAgICAgICAgICAgICAgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeSwgKDEsIHN0cihkYXRldGltZS5kYXRldGltZS5ub3coKSksIGVsZW1bJ2lkJ10pKQogICAgICAgICAgICByZXR1cm4geydSZXN1bHQnOiAn0JLRgdC1INC+0LonLCAnRXJyb3InOiBOb25lfQoKICAgIGRlZiBhZGQoc2VsZiwgYXJncyk6CiAgICAgICAgcXVlcnkgPSAnSU5TRVJUIElOVE8gUlNfZG9jcyhpZF9kb2MsIGRvY190eXBlLCBkb2NfbiwgZG9jX2RhdGEsIGlkX2NvdW50cmFnZW50cywgaWRfd2FyZWhvdXNlLCB2ZXJpZmllZCwgc2VudCkgVkFMVUVTICg/LD8sPyw/LD8sPywxLDEpJwogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnksIGFyZ3MpCgogICAgZGVmIGdldF9uZXdfaWQoc2VsZik6CiAgICAgICAgcXVlcnkgPSAnU2VsZWN0IG1heChpZF9kb2MpIEZyb20gUlNfZG9jcycKICAgICAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5KQogICAgICAgIGlmIGxlbihyZXMpID09IDA6CiAgICAgICAgICAgIHJldHVybiAnMScKICAgICAgICBlbHNlOgogICAgICAgICAgICB2YWwgPSByZXNbMF1bMF0KICAgICAgICAgICAgaWYgdmFsIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gJzEnCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyKGludCh2YWwpICsgMSkKCgojINCk0YPQvdC60YbQuNGPINC/0L7Qu9GD0YfQsNC10YIg0YHRgtGA0L7QutC4INC80LDRgNC60LjRgNC+0LLQutC4INC00L7QutGD0LzQtdC90YLQsCDQv9C+INC30L3QsNGH0LXQvdC40Y4g0LzQsNGA0LrQuNGA0L7QstC60LgKZGVmIGZpbmRfYmFyY29kZV9pbl9tYXJraW5nX2NvZGVzX3RhYmxlKHNlbGYsIHN0cnVjdF9iYXJjb2RlOiBsaXN0KSAtPiBvYmplY3Q6CiAgICBxdWVyeV90ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9xdWVyeV9tYXJrX2ZpbmRfaW5fZG9jKCkKICAgIGFyZ3NfZGljdCA9IHt9CiAgICBhcmdzX2RpY3RbJ3NldF9iYXJjb2RlJ10gPSAnMDEnICsgc3RydWN0X2JhcmNvZGVbJ0dUSU4nXSArICcyMScgKyBzdHJ1Y3RfYmFyY29kZVsnU0VSSUFMJ10KCiAgICBhcmdzX2RpY3RbJ2lkX2RvYyddID0gc2VsZi5pZF9kb2MKCiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIGFyZ3NfZGljdCwgVHJ1ZSkKICAgIHJldHVybiByZXMKCiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5X3RleHQsIGFyZ3NfZGljdCwgVHJ1ZSkKCgoj0KHRgNCw0LLQvdC40LLQsNC10YIg0LrQvtC70LjRh9C10YHRgtCy0L4t0L/Qu9Cw0L0g0YLQvtCy0LDRgNCwINCyINC00L7QutGD0LzQtdC90YLQtSDQuCDQutC+0LvQuNGH0LXRgdGC0LLQviDQvNCw0YDQvtC6LCDQv9C+INGN0YLQvtC80YMg0YLQvtCy0LDRgNGDINGC0LDQvCDQttC1LgojINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIFRydWUsINC10YHQu9C4INC60L7Qu9C40YfQtdGB0YLQstC+INC80LDRgNC+0Log0LzQtdC90YzRiNC1INC/0LvQsNC90LAKZGVmIGNoZWNrX21hcmtfY29kZV9jb21wbGlhbmNlKGVsX2RpY3Q6IGRpY3QsIGlkX2RvYywgZ3Rpbik6CiAgICBxdWVyeV90ZXh0ID0gdWlfZm9ybV9kYXRhLmdldF9tYXJrX3F0dHlfY29uZm9ybWl0eSgpCiAgICBhcmdzX2RpY3QgPSB7fQogICAgYXJnc19kaWN0WydpZERvYyddPSBpZF9kb2MKICAgIGFyZ3NfZGljdFsnYmFyY29kZSddID0gJzAxJyArIGd0aW4gKyAnJScKICAgIGFyZ3NfZGljdFsnaWRfZ29vZCddID0gZWxfZGljdFsnaWRfZ29vZCddCiAgICBhcmdzX2RpY3RbJ2lkX3Byb3BlcnRpZXMnXSA9IGVsX2RpY3RbJ2lkX3Byb3BlcnR5J10KICAgIGFyZ3NfZGljdFsnaWRfc2VyaWVzJ10gPSBlbF9kaWN0WydpZF9zZXJpZXMnXQogICAgYXJnc19kaWN0WydpZF91bml0J10gPSBlbF9kaWN0WydpZF91bml0J10KICAgIGFyZ3NfZGljdFsnYXBwcm92ZWQnXSA9ICcxJwogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0LCBhcmdzX2RpY3QgKQogICAgaWYgcmVzOgogICAgICAgIGlmIHJlc1swXVswXSA+IDA6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxpZiByZXNbMF1bMF0gPT0gMDoKICAgICAgICAgICAgcmV0dXJuICBGYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICByZXR1cm4gVHJ1ZQoKCgpkZWYgZ2V0X3F1ZXJ5X3Jlc3VsdChxdWVyeV90ZXh0OiBvYmplY3QsIGFyZ3M6IG9iamVjdCA9ICIiLCByZXR1cm5fZGljdD1GYWxzZSkgLT4gb2JqZWN0OgogICAgIyAqKioqKioqKioqKioqKioqKioqKioqCgogICAgY29ubiA9IE5vbmUKICAgIHRyeToKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KGRiX3BhdGgpCgogICAgZXhjZXB0IEVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ05vIGNvbm5lY3Rpb24gd2l0aCBkYXRhYmFzZScpCgogICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQogICAgaWYgYXJnczoKICAgICAgICBjdXJzb3IuZXhlY3V0ZShxdWVyeV90ZXh0LCBhcmdzKQogICAgZWxzZToKICAgICAgICBjdXJzb3IuZXhlY3V0ZShxdWVyeV90ZXh0KQogICAgIyDQldGB0LvQuCDQvdCw0LTQviAtINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC90LUg0YDQtdC30YPQu9GM0YLQsNGCINC30LDQv9GA0L7RgdCwLCDQsCDRgdC70L7QstCw0YDRjCDRgSDQuNC80L/QvtGA0YLQuNGA0L7QstCw0L3QvdGL0Lwg0YDQtdC30YPQu9GM0YLQsNGC0L7QvAogICAgaWYgcmV0dXJuX2RpY3Q6CiAgICAgICAgcmVzID0gW2RpY3QobGluZSkgZm9yIGxpbmUgaW4KICAgICAgICAgICAgICAgW3ppcChbY29sdW1uWzBdIGZvciBjb2x1bW4gaW4gY3Vyc29yLmRlc2NyaXB0aW9uXSwgcm93KSBmb3Igcm93IGluIGN1cnNvci5mZXRjaGFsbCgpXV0KICAgIGVsc2U6CiAgICAgICAgcmVzID0gY3Vyc29yLmZldGNoYWxsKCkKICAgIGNvbm4uY29tbWl0KCkKICAgIGNvbm4uY2xvc2UoKQogICAgcmV0dXJuIHJlcwoKCmRlZiBidWxrX3F1ZXJ5X3JlcGxhY2UocXVlcnlfdGV4dDogc3RyLCBhcmdzOiBvYmplY3QgPSAiIikgLT4gb2JqZWN0OgogICAgIyAqKioqKioqKioqKioqKioqKioqKioqCgogICAgY29ubiA9IE5vbmUKICAgIHRyeToKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KGRiX3BhdGgpCgogICAgZXhjZXB0IEVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ05vIGNvbm5lY3Rpb24gd2l0aCBkYXRhYmFzZScpCgogICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQogICAgdHJ5OgogICAgICAgIGN1cnNvci5leGVjdXRlbWFueShxdWVyeV90ZXh0LCBhcmdzKQogICAgICAgIGNvbm4uY29tbWl0KCkKICAgIGV4Y2VwdCBzcWxpdGUzLkVycm9yIGFzIGVyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZXIpCgogICAgcmVzID0gY3Vyc29yLmZldGNoYWxsKCkKCiAgICBjb25uLmNsb3NlKCkKICAgIHJldHVybiByZXMKCgpkZWYgZ2V0X25hbWVfbGlzdChzdHJfZW50dHkpOgogICAgcXVlcnkgPSAiU0VMRUNUIG5hbWUgRlJPTSAiICsgc3RyX2VudHR5CiAgICByZXMgPSBnZXRfcXVlcnlfcmVzdWx0KHF1ZXJ5KQogICAgbGlzdF9lbCA9IFtdCiAgICAjIGxpc3RfZWwuYXBwZW5kKG5hbWUgZm9yIG5hbWUgaW4gcmVzKQogICAgZm9yIGVsIGluIHJlczoKICAgICAgICBsaXN0X2VsLmFwcGVuZChlbFswXSkKICAgIHJldHVybiAiOyIuam9pbihsaXN0X2VsKQoKCmRlZiBnZXRfYnlfbmFtZShmbGQsIHRhYmxlKToKICAgIHF1ZXJ5ID0gIlNFTEVDVCBpZF9lbGVtIEZST00gIiArIHRhYmxlICsgJyBXSEVSRSBuYW1lID0gPycKICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQocXVlcnksIChmbGQsKSkKCiAgICBpZiBsZW4ocmVzKSA9PSAwOgogICAgICAgIHJldHVybiAiIgogICAgZWxzZToKICAgICAgICByZXR1cm4gcmVzWzBdWzBdCgoKZGVmIGdldF9jb25zdGFudHMobmVlZF9jb25zdD0nJyk6CiAgICBzcWxfdGV4dCA9ICdTZWxlY3QgKiBmcm9tIFJTX2NvbnN0YW50cycKICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQoc3FsX3RleHQpCgogICAgIyDQuNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdC8INC60L7QvdGB0YLQsNC90YLRiwogICAgaWYgbm90IHJlczogICMgbGVuKHJlcykgPT0gMDoKICAgICAgICBnZXRfcXVlcnlfcmVzdWx0KAogICAgICAgICAgICAnSU5TRVJUIElOVE8gUlNfY29uc3RhbnRzICh1c2Vfc2VyaWVzLCB1c2VfcHJvcGVydGllcywgdXNlX21hcmssIHBhdGgsIGRlbGV0ZV9maWxlcywgcmVzZXJ2ZWQpIFZBTFVFUyAoPyw/LD8sPyw/LD8pJywKICAgICAgICAgICAgKCcwJywgJzAnLCAnMCcsICcvL3N0b3JhZ2UvZW11bGF0ZWQvMC9kb3dubG9hZC8nLCAnMCcsICcwJykpCgogICAgICAgIHJlcyA9IGdldF9xdWVyeV9yZXN1bHQoc3FsX3RleHQpCgogICAgaWYgcmVzOiAgIyBsZW4ocmVzKT4wOgogICAgICAgIGlmIG5lZWRfY29uc3Q6CiAgICAgICAgICAgIGxzID0gWydpZCcsICd1c2Vfc2VyaWVzJywgJ3VzZV9wcm9wZXJ0aWVzJywgJ3VzZV9tYXJrJywgJ3BhdGgnLCAnZGVsZXRlX2ZpbGVzJywgJ3Jlc2VydmVkJ10KICAgICAgICAgICAgeCA9IGxzLmluZGV4KG5lZWRfY29uc3QpCgogICAgICAgICAgICBpZiB4ID4gMDoKICAgICAgICAgICAgICAgIHJldHVybiByZXNbMF1beF0KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gcmVzWzBdCiAgICBlbHNlOgogICAgICAgIHJldHVybiBOb25lCgoKZGVmIHB1dF9jb25zdGFudHMoYXJncyk6CiAgICBzcWxfdXBkYXRlX3F1ZXJ5ID0gIiIiVXBkYXRlIFJTX2NvbnN0YW50cyBzZXQgdXNlX3NlcmllcyA9ID8sIHVzZV9wcm9wZXJ0aWVzID0gPywgdXNlX21hcmsgPSA/LCBwYXRoID0gPywKICAgICBkZWxldGVfZmlsZXMgPSA/ICIiIgogICAgcmVzID0gZ2V0X3F1ZXJ5X3Jlc3VsdChzcWxfdXBkYXRlX3F1ZXJ5LCBhcmdzKQo="
            },
            {
                "PyFileKey": "ui_form_data",
                "PyFileData": "ZGVmIGdldF9kb2NfY2FyZCgpOgogICAgZG9jX2xpc3QgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAogICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICJWYWx1ZSI6ICIiLAogICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiQ2hlY2tCb3giLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBjb21wbGV0ZWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIkNoZWNrQm94MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMzIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNEQjcwOTMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHR5cGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTgiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlBvcHVwTWVudUJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQo9C00LDQu9C40YLRjDvQn9C+0LTRgtCy0LXRgNC00LjRgtGMIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIm1lbnVfZGVsZXRlIgoKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBudW1iZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjIwIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGRhdGEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBjb3VudHJhZ2VudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHdhcmVob3VzZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQogICAgfX0KCiAgICByZXR1cm4gZG9jX2xpc3QKCgpkZWYgZ2V0X2RvY19xdWVyeShhcmc9JycpOgogICAgcXVlcnlfdGV4dCA9ICIiIgogICAgU0VMRUNUIFJTX2RvY3MuaWRfZG9jLAogICAgUlNfZG9jcy5kb2NfdHlwZSwKICAgIFJTX2RvY3MuZG9jX24sCiAgICBSU19kb2NzLmRvY19kYXRhLAogICAgUlNfZG9jcy5pZF9jb3VudHJhZ2VudHMsCiAgICBSU19kb2NzLmlkX3dhcmVob3VzZSwKICAgIGlmbnVsbChSU19jb3VudHJhZ2VudHMuZnVsbF9uYW1lLCcnKSBhcyBSU19jb3VudHJhZ2VudCwKICAgIGlmbnVsbChSU193YXJlaG91c2VzLm5hbWUsJycpIGFzIFJTX3dhcmVob3VzZSwKICAgIFJTX2RvY3MudmVyaWZpZWQsCiAgICBSU19kb2NzLnNlbnQsCiAgICBSU19kb2NzLmFkZF9tYXJrX3NlbGVjdGlvbgogICAgCiAgICAgRlJPTSBSU19kb2NzCiAgICAgTEVGVCBKT0lOIFJTX2NvdW50cmFnZW50cyBhcyBSU19jb3VudHJhZ2VudHMKICAgICBPTiBSU19jb3VudHJhZ2VudHMuaWRfZWxlbSA9IFJTX2RvY3MuaWRfY291bnRyYWdlbnRzCiAgICAgTEVGVCBKT0lOIFJTX3dhcmVob3VzZXMgYXMgUlNfd2FyZWhvdXNlcwogICAgIE9OIFJTX3dhcmVob3VzZXMuaWRfZWxlbT1SU19kb2NzLmlkX3dhcmVob3VzZQogICAgICIiIgogICAgaWYgbm90IChhcmcgPT0gJycgb3IgYXJnID09ICfQktGB0LUnKToKICAgICAgICBxdWVyeV90ZXh0ID0gcXVlcnlfdGV4dCArICcnJwogICAgICAgIFdoZXJlIFJTX2RvY3MuZG9jX3R5cGU9PycnJwoKICAgIHF1ZXJ5X3RleHQgPSBxdWVyeV90ZXh0ICsgIiIiCiAgICBPUkRFUgogICAgQlkKICAgIFJTX2RvY3MuZG9jX2RhdGEiIiIKICAgIHJldHVybiBxdWVyeV90ZXh0CgoKZGVmIGdldF9kb2NfdHlwZV9xdWVyeSgpOgogICAgbHMgPSAnU0VMRUNUIERJU1RJTkNUIGRvY190eXBlIGZyb20gUlNfZG9jcycKICAgIHJldHVybiBscwoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3QotC+0LLQsNGA0YsKZGVmIGdldF9nb29kc19jYXJkKCk6CiAgICBsaXN0ID0geyJjdXN0b21jYXJkcyI6IHsKICAgICAgICAib3B0aW9ucyI6IHsKICAgICAgICAgICAgInNlYXJjaF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxOCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0Qm9sZCI6IFRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAY29kZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBHVElOIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHR5cGVfbmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkB1bml0X25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgfQoKICAgIH0KICAgIH0KICAgIHJldHVybiBsaXN0CgoKZGVmIGdldF9nb29kc19xdWVyeSgpOgogICAgcXVlcnlfdGV4dCA9ICIiIgogICAgU0VMRUNUIFJTX2dvb2RzLmlkX2VsZW0sCiAgICBSU19nb29kcy5jb2RlLAogICAgUlNfZ29vZHMuYXJ0LAogICAgUlNfZ29vZHMubmFtZSwKICAgIFJTX2dvb2RzLnR5cGVfZ29vZCwKICAgIFJTX3R5cGVzX2dvb2RzLm5hbWUgQVMgdHlwZXNfZ29vZHMsCiAgICBSU19nb29kcy51bml0LAogICAgUlNfdW5pdHMubmFtZQogICAgRlJPTSBSU19nb29kcwogICAgTEVGVCBKT0lOIFJTX3R5cGVzX2dvb2RzCiAgICBPTiBSU190eXBlc19nb29kcy5pZF9lbGVtID0gUlNfZ29vZHMudHlwZV9nb29kCiAgICBMRUZUIEpPSU4gUlNfdW5pdHMKICAgIE9OIFJTX3VuaXRzLmlkX293bmVyID0gUlNfZ29vZHMuaWRfZWxlbSIiIgogICAgcmV0dXJuIHF1ZXJ5X3RleHQKCgpkZWYgZ2V0X3ByaWNlX2NhcmQoKToKICAgIHR4dCA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IEZhbHNlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAogICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiVmFsdWUiOiAiIiwKICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIyIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwcmljZV90eXBlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHByaWNlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9CiAgICB9CiAgICByZXR1cm4gdHh0CgoKZGVmIGdldF9kb2NfZGV0YWlsc19xdWVyeSgpOgogICAgcXVlcnlfdGV4dCA9ICIiIgogICAgU0VMRUNUCiAgICBSU19kb2NzX3RhYmxlLmlkLAogICAgUlNfZG9jc190YWJsZS5pZF9kb2MsCiAgICBSU19kb2NzX3RhYmxlLmlkX2dvb2QsCiAgICBSU19nb29kcy5uYW1lLAogICAgUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzLAogICAgUlNfcHJvcGVydGllcy5uYW1lLAogICAgUlNfZG9jc190YWJsZS5pZF9zZXJpZXMsCiAgICBSU19zZXJpZXMubmFtZSwKICAgIFJTX2RvY3NfdGFibGUuaWRfdW5pdCwKICAgIFJTX3VuaXRzLm5hbWUsCiAgICBSU19kb2NzX3RhYmxlLnF0dHksCiAgICBSU19kb2NzX3RhYmxlLnF0dHlfcGxhbiwKICAgIFJTX2RvY3NfdGFibGUucHJpY2UsCiAgICBSU19wcmljZV90eXBlcy5uYW1lIGFzIHByaWNlX25hbWUsCiAgICBSU19kb2NzX3RhYmxlLnF0dHlfcGxhbiAtIFJTX2RvY3NfdGFibGUucXR0eSBhcyBJc0RvbmUKICAgIEZST00gUlNfZG9jc190YWJsZSAKICAgIAogICAgCiAgICAKICAgIExFRlQgSk9JTiBSU19nb29kcyAKICAgIE9OIFJTX2dvb2RzLmlkX2VsZW09UlNfZG9jc190YWJsZS5pZF9nb29kCiAgICBMRUZUIEpPSU4gUlNfcHJvcGVydGllcwogICAgT04gUlNfcHJvcGVydGllcy5pZF9lbGVtID0gUlNfZG9jc190YWJsZS5pZF9wcm9wZXJ0aWVzCiAgICBMRUZUIEpPSU4gUlNfc2VyaWVzCiAgICBPTiBSU19zZXJpZXMuaWRfZWxlbSA9IFJTX2RvY3NfdGFibGUuaWRfc2VyaWVzCiAgICBMRUZUIEpPSU4gUlNfdW5pdHMKICAgIE9OIFJTX3VuaXRzLmlkX2VsZW09UlNfZG9jc190YWJsZS5pZF91bml0CiAgICBMRUZUIEpPSU4gUlNfcHJpY2VfdHlwZXMKICAgIE9OIFJTX3ByaWNlX3R5cGVzLmlkID0gUlNfZG9jc190YWJsZS5pZF9wcmljZQogICAgV0hFUkUgaWRfZG9jID0gJGFyZzEKICAgIE9SREVSIEJZIFJTX2RvY3NfdGFibGUubGFzdF91cGRhdGVkIERFU0MgCiAgICAiIiIKICAgIHJldHVybiBxdWVyeV90ZXh0CgoKZGVmIGdldF9kb2NfZGV0YWlsX2NhcmRzKHVzZV9zZXJpZXMsIHVzZV9wcm9wZXJ0aWVzKToKCiAgICBsaXN0ID0gewogICAgICAgICJjdXN0b21jYXJkcyI6IHsKICAgICAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBUcnVlLAogICAgICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dFNpemUiOiAiMTgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dEJvbGQiOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBnb29kX25hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHBpY3R1cmUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiNEQjcwOTMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQmFja2dyb3VuZENvbG9yIjogIiNGRkZGRkYiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiYnRuX3RzdDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjYXJkQ29ybmVyUmFkaXVzIjogIjE1ZHAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBjb2RlX2FydCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAdW5pdF9uYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJnb3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogItCf0LvQsNC9IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHF0dHlfcGxhbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KTQsNC60YIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcXR0eSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE4IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogInZlcnRpY2FsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAi0KbQtdC90LAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcHJpY2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUZXh0U2l6ZSI6ICIxOCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGlmIHVzZV9zZXJpZXMgPT0gJ3RydWUnIG9yIHVzZV9zZXJpZXMgPT0gJzEnOgogICAgICAgIGxpc3RbJ2N1c3RvbWNhcmRzJ11bJ2xheW91dCddWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddWzBdWydFbGVtZW50cyddLmluc2VydCgxLCB7J3R5cGUnOiAnVGV4dFZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RleHRTaXplJzogJzE2JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzaG93X2J5X2NvbmRpdGlvbic6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1ZhbHVlJzogJ0BzZXJpZXNfbmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm9SZWZyZXNoJzogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG9jdW1lbnRfdHlwZSc6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hc2snOiAnJywgJ1ZhcmlhYmxlJzogJyd9KQogICAgaWYgdXNlX3Byb3BlcnRpZXMgPT0gJ3RydWUnIG9yIHVzZV9wcm9wZXJ0aWVzID09ICcxJzoKICAgICAgICBsaXN0WydjdXN0b21jYXJkcyddWydsYXlvdXQnXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXVswXVsnRWxlbWVudHMnXS5pbnNlcnQoMSwgeyd0eXBlJzogJ1RleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUZXh0U2l6ZSc6ICcxNicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2hvd19ieV9jb25kaXRpb24nOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWYWx1ZSc6ICdAcHJvcGVydGllc19uYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOb1JlZnJlc2gnOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudF90eXBlJzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFzayc6ICcnLCAnVmFyaWFibGUnOiAnJ30pCgogICAgcmV0dXJuIGxpc3QKCgpkZWYgZ2V0X3ByaWNlX3F1ZXJ5KCk6CiAgICB0eHQgPSAiIiIKICAgIFNFTEVDVCAqLAogICAgUlNfcHJpY2VfdHlwZXMubmFtZQogICAgIGZyb20gUlNfcHJpY2VzIAogICAgIExFRlQgSk9JTiBSU19wcmljZV90eXBlcyBPTiBSU19wcmljZV90eXBlcy5pZD1SU19wcmljZXMuaWRfcHJpY2VfdHlwZXMKICAgICB3aGVyZSBpZF9nb29kcz0/IiIiCiAgICByZXR1cm4gdHh0CgoKIyDQodC+0LLRgNC10LzQtdC90L3QvtC1INC/0L7Qu9C1INCy0LLQvtC00LAsINC90LUg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPCmRlZiBnZXRfbnVtX2ZpZWxkX2Rlc2NyKHF0dHkpOgogICAganNvbl9kZXNjciA9IHsKICAgICAgICAiaGludCI6ICfQutC+0LvQuNGH0LXRgdGC0LLQvicsCiAgICAgICAgImRlZmF1bHRfdGV4dCI6IHF0dHksCiAgICAgICAgJ2lucHV0VHlwZSAnOiAnVFlQRV9DTEFTU19OVU1CRVInCiAgICB9CiAgICByZXR1cm4ganNvbl9kZXNjcgoKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3QotC+0LLQsNGA0YsKZGVmIGdldF9iYXJjb2RlX2NhcmQoKToKICAgIGxpc3QgPSB7ImN1c3RvbWNhcmRzIjogewogICAgICAgICJvcHRpb25zIjogewogICAgICAgICAgICAic2VhcmNoX2VuYWJsZWQiOiBGYWxzZSwKICAgICAgICAgICAgInNhdmVfcG9zaXRpb24iOiBUcnVlCiAgICAgICAgfSwKICAgICAgICAibGF5b3V0IjogewogICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogWwoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBiYXJjb2RlX3ZhbHVlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJiYXJjb2RlIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGFwcHJvdmVkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0KICAgICAgICB9CgogICAgfQogICAgfQogICAgcmV0dXJuIGxpc3QKCgpkZWYgZ2V0X2JhcmNvZGVfcXVlcnkoKToKICAgIHF1ZXJ5X3RleHQgPSAnU0VMRUNUICogRlJPTSBSU19kb2NzX2JhcmNvZGVzIFdoZXJlIFJTX2RvY3NfYmFyY29kZXMuaWRfZG9jID0gPycKICAgIHJldHVybiBxdWVyeV90ZXh0CgoKIyDQl9Cw0L/RgNC+0YEg0L3QsNGF0L7QtNC40YIg0LLRgdC1INC30LDQv9C40YHQuCDRgtCw0LHQu9C40YbRiyDQtNC+0LrRg9C80LXQvdGC0LAgUlNfZG9jc19iYXJjb2RlcyDQv9C+INC/0L7Qu9C90L7QvNGDINGB0L7QstC/0LDQtNC10L3QuNGOINGI0YLRgNC40YXQutC+0LTQsCDQuNC70Lgg0YLQvtC70YzQutC+INC/0L4gR1RJTgpkZWYgZ2V0X3F1ZXJ5X21hcmtfZmluZF9pbl9kb2MoKToKICAgIHF1ZXJ5ID0gJycnClNFTEVDVCAqIEZST00gKAoKU0VMRUNUIApSU19kb2NzX2JhcmNvZGVzLmlkLApSU19kb2NzX2JhcmNvZGVzLmlkX2RvYywKClJTX2RvY3NfYmFyY29kZXMuaWRfYmFyY29kZSwKCklGTlVMTChSU19tYXJraW5nX2NvZGVzLm1hcmtfY29kZSwgJzAnKSBBUyBtYXJrX2NvZGUsCklGTlVMTChSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QsICcnKSBBUyBpZF9nb29kLApJRk5VTEwoUlNfbWFya2luZ19jb2Rlcy5pZF9wcm9wZXJ0eSwgJycpIEFTIGlkX3Byb3BlcnR5ICwKSUZOVUxMKFJTX21hcmtpbmdfY29kZXMuaWRfc2VyaWVzLCAnJykgQVMgaWRfc2VyaWVzLApJRk5VTEwoUlNfbWFya2luZ19jb2Rlcy5pZF91bml0LCAnJykgIEFTIGlkX3VuaXQsCgpSU19kb2NzX2JhcmNvZGVzLmlzX3BsYW4sClJTX2RvY3NfYmFyY29kZXMuYXBwcm92ZWQKCkZST00gUlNfZG9jc19iYXJjb2RlcwogICAgCiAgICBMRUZUIEpPSU4gUlNfbWFya2luZ19jb2RlcyBBcyBSU19tYXJraW5nX2NvZGVzCiAgICBPTiBSU19tYXJraW5nX2NvZGVzLmlkID0gUlNfZG9jc19iYXJjb2Rlcy5pZF9iYXJjb2RlCgpXSEVSRSBpZF9kb2MgPSA6aWRfZG9jICBhbmQgUlNfbWFya2luZ19jb2Rlcy5tYXJrX2NvZGUgPSA6c2V0X2JhcmNvZGUpCicnJwogICAgIwogICAgIyBTRUxFQ1QgKiBGUk9NICgKICAgICMgICAgIFNFTEVDVAogICAgIyAgICAgJ29uX0dUSU4nIGFzIFR5cGVPZlVuaW9uLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pZCwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaWRfZG9jLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5iYXJjb2RlLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9iYXJjb2RlLAogICAgIyAgICAgUlNfYmFyY29kZXMuR1RJTiwKICAgICMgICAgIFJTX2JhcmNvZGVzLmlkX2dvb2QsCiAgICAjICAgICBSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSwKICAgICMgICAgIFJTX2JhcmNvZGVzLmlkX3NlcmllcywKICAgICMgICAgIFJTX2JhcmNvZGVzLmlkX3VuaXQsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlzX3BsYW4sCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmFwcHJvdmVkCiAgICAjICAgICBGUk9NIFJTX2RvY3NfYmFyY29kZXMKICAgICMgICAgICAgICBMRUZUIEpPSU4gKFNlbGVjdCBSU19iYXJjb2Rlcy5iYXJjb2RlIGFzIEdUSU4sCiAgICAjICAgICAgICAgUlNfYmFyY29kZXMuaWRfZ29vZCwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9zZXJpZXMsCiAgICAjICAgICAgICAgUlNfYmFyY29kZXMuaWRfdW5pdCBGUk9NIFJTX2JhcmNvZGVzCiAgICAjICAgICAgICAgV0hFUkUgUlNfYmFyY29kZXMuYmFyY29kZT06Z3RpbiBMSU1JVCAxKSBBUyBSU19iYXJjb2RlcwogICAgIyAgICAgICAgIE9OIFRSVUUKICAgICMgICAgICAgICBMRUZUIEpPSU4gUlNfYmFyY29kZXMgYXMgRnVsbEJhcmNvZGUKICAgICMgICAgICAgICBPTiBGdWxsQmFyY29kZS5iYXJjb2RlID0gUlNfZG9jc19iYXJjb2Rlcy5iYXJjb2RlCiAgICAjCiAgICAjICAgICBXSEVSRSBpZF9kb2MgPSA6aWRfZG9jICBhbmQgUlNfZG9jc19iYXJjb2Rlcy5iYXJjb2RlIExpa2UgJyUnKzpndGluICsgJyUnCiAgICAjCiAgICAjICAgICBVTklPTiBBTEwKICAgICMKICAgICMgICAgIFNFTEVDVAogICAgIyAgICAgJ0Z1bGxNYXRjaCcsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkLAogICAgIyAgICAgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUsCiAgICAjICAgICBSU19kb2NzX2JhcmNvZGVzLmlkX2JhcmNvZGUsCiAgICAjICAgICBJRk5VTEwoUlNfYmFyY29kZXMuYmFyY29kZSxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLkdUSU4pLAogICAgIyAgICAgSUZOVUxMKFJTX2JhcmNvZGVzLmlkX2dvb2QsUlNfYmFyY29kZXNfaW5hY2N1cmF0ZS5pZF9nb29kKSwKICAgICMgICAgIElGTlVMTChSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSxSU19iYXJjb2Rlc19pbmFjY3VyYXRlLmlkX3Byb3BlcnR5KSwKICAgICMgICAgIElGTlVMTChSU19iYXJjb2Rlcy5pZF9zZXJpZXMsUlNfYmFyY29kZXNfaW5hY2N1cmF0ZS5pZF9zZXJpZXMpLAogICAgIyAgICAgSUZOVUxMKFJTX2JhcmNvZGVzLmlkX3VuaXQsUlNfYmFyY29kZXNfaW5hY2N1cmF0ZS5pZF91bml0KSwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuaXNfcGxhbiwKICAgICMgICAgIFJTX2RvY3NfYmFyY29kZXMuYXBwcm92ZWQKICAgICMgICAgIEZST00gUlNfZG9jc19iYXJjb2RlcwogICAgIyAgICAgICAgIExFRlQgSk9JTiBSU19iYXJjb2RlcwogICAgIyAgICAgICAgIE9OIFJTX2JhcmNvZGVzLmJhcmNvZGUgPSBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUKICAgICMgICAgICAgICBMRUZUIEpPSU4gKFNlbGVjdCBSU19iYXJjb2Rlcy5iYXJjb2RlIGFzIEdUSU4sCiAgICAjICAgICAgICAgUlNfYmFyY29kZXMuaWRfZ29vZCwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9wcm9wZXJ0eSwKICAgICMgICAgICAgICBSU19iYXJjb2Rlcy5pZF9zZXJpZXMsCiAgICAjICAgICAgICAgUlNfYmFyY29kZXMuaWRfdW5pdCBGUk9NIFJTX2JhcmNvZGVzCiAgICAjICAgICAgICAgV0hFUkUgUlNfYmFyY29kZXMuYmFyY29kZSBMaWtlICclJys6Z3RpbiArICclJyBMSU1JVCAxKSBBUyBSU19iYXJjb2Rlc19pbmFjY3VyYXRlCiAgICAjICAgICAgICAgT04gVFJVRQogICAgIyAgICAgICAgIExFRlQgSk9JTiBSU19iYXJjb2RlcyBhcyBGdWxsQmFyY29kZQogICAgIyAgICAgICAgIE9OIEZ1bGxCYXJjb2RlLmJhcmNvZGUgPSBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUKICAgICMKICAgICMgICAgIFdIRVJFIGlkX2RvYyA9IDppZF9kb2MgIGFuZCBSU19kb2NzX2JhcmNvZGVzLmJhcmNvZGUgPSA6c2V0X2JhcmNvZGUpCiAgICAjCiAgICAjIE9SREVSICBCWSBUeXBlT2ZVbmlvbgogICAgIyAnJycKICAgIHJldHVybiBxdWVyeQoKCmRlZiBnZXRfYmFyY29kZV9jYXJkKCk6CiAgICBscyA9IHsiY3VzdG9tY2FyZHMiOiB7CiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6IEZhbHNlLAogICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6IFRydWUKICAgICAgICB9LAogICAgICAgICJsYXlvdXQiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICJoZWlnaHQiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICJFbGVtZW50cyI6IFsKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJob3Jpem9udGFsIiwKICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAgICAgIndlaWdodCI6ICIwIiwKICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbCiAgICAgICAgICAgICAgICAgICAgICAgIHsidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQGJhcmNvZGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAcGljdHVyZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVGV4dENvbG9yIjogIiNEQjcwOTMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJidG5fdHN0MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImNhcmRDb3JuZXJSYWRpdXMiOiAiMTVkcCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIgogICAgICAgICAgICAgICAgICAgICAgICB9XX0KCgogICAgICAgICAgICBdCiAgICAgICAgfX0KICAgIH0KICAgIHJldHVybiBscwoKZGVmIGdldF9kb2NfYmFyY29kZV9xdWVyeSgpOgogICAgbHMgPSAnJycKICAgIFNFTEVDVCAKICAgIGlkX2JhcmNvZGUsCiAgICBSU19tYXJraW5nX2NvZGVzLm1hcmtfY29kZSBhcyBtYXJrX2NvZGUsCiAgICBhcHByb3ZlZAogICAgRlJPTSBSU19kb2NzX2JhcmNvZGVzCgogICAgSk9JTiBSU19tYXJraW5nX2NvZGVzIAogICAgT04gUlNfbWFya2luZ19jb2Rlcy5pZCA9IFJTX2RvY3NfYmFyY29kZXMuaWRfYmFyY29kZSBBTkQKICAgIFJTX21hcmtpbmdfY29kZXMuaWRfZ29vZCA9IDppZF9nb29kIEFORAogICAgUlNfbWFya2luZ19jb2Rlcy5pZF9wcm9wZXJ0eSA9IDppZF9wcm9wZXJ0eSBBTkQKICAgIFJTX21hcmtpbmdfY29kZXMuaWRfc2VyaWVzID0gOmlkX3NlcmllcyBBTkQKICAgIFJTX21hcmtpbmdfY29kZXMuaWRfdW5pdCA9IDppZF91bml0IAogICAgCiAgICAgV0hFUkUgUlNfZG9jc19iYXJjb2Rlcy5pZF9kb2MgPSA6aWRfZG9jICcnJwogICAgcmV0dXJuIGxzCgpkZWYgZ2V0X21hcmtjb2RlX3F1ZXJ5KCk6CiAgICByZXR1cm4gJycnCiAgICBTRUxFQ1QgCiAgICBUZW1wX3F1ZXJ5LkN1clN0ciBhcyBDdXJTdHIsCiAgICBUZW1wX3F1ZXJ5LmlkX2JhcmNvZGUsCiAgICBUZW1wX3F1ZXJ5Lm1hcmtfY29kZSwKICAgIFRlbXBfcXVlcnkuYXBwcm92ZWQsCiAgICBUZW1wX3F1ZXJ5LmlkX2dvb2QsCiAgICBUZW1wX3F1ZXJ5LmlkX3Byb3BlcnRpZXMgYXMgaWRfcHJvcGVydHksCiAgICBUZW1wX3F1ZXJ5LmlkX3NlcmllcywKICAgIFRlbXBfcXVlcnkuaWRfdW5pdCwKICAgIFJTX2dvb2RzLm5hbWUgYXMgZ29vZF9uYW1lLAogICAgUlNfcHJvcGVydGllcy5uYW1lIGFzIHByb3BlcnRpZXMsCiAgICBSU19zZXJpZXMubmFtZSBhcyBzZXJpZXMsCiAgICBSU191bml0cy5uYW1lIGFzIHVuaXQsCiAgICBSU19nb29kcy5jb2RlIEFTIGdvb2RfY29kZSwKICAgIFRlbXBfcXVlcnkuaXNfcGxhbgogICAgCiAgICAKIEZST00gKApTRUxFQ1QgCiAgICBSU19kb2NzX2JhcmNvZGVzLmlkIGFzIEN1clN0ciwKICAgIGlkX2JhcmNvZGUsCiAgICBSU19tYXJraW5nX2NvZGVzLm1hcmtfY29kZSwKICAgIGFwcHJvdmVkLAogICAgUlNfbWFya2luZ19jb2Rlcy5pZF9nb29kLAogICAgUlNfbWFya2luZ19jb2Rlcy5pZF9wcm9wZXJ0eSBhcyBpZF9wcm9wZXJ0aWVzLAogICAgUlNfbWFya2luZ19jb2Rlcy5pZF9zZXJpZXMsCiAgICBSU19tYXJraW5nX2NvZGVzLmlkX3VuaXQsCiAgICBSU19kb2NzX2JhcmNvZGVzLmlzX3BsYW4KICAgIAogICAgRlJPTSBSU19kb2NzX2JhcmNvZGVzCgogICAgSk9JTiBSU19tYXJraW5nX2NvZGVzIAogICAgT04gUlNfbWFya2luZ19jb2Rlcy5pZCA9IFJTX2RvY3NfYmFyY29kZXMuaWRfYmFyY29kZSAKICAgIAogICAgIFdIRVJFIFJTX2RvY3NfYmFyY29kZXMuaWRfZG9jID0gOmlkX2RvYyBBTkQgaWRfYmFyY29kZSA9IDppZF9iYXJjb2RlKSBBUyBUZW1wX3F1ZXJ5CiAgICAgCiBMRUZUIEpPSU4gUlNfZ29vZHMgCiAgICBPTiBSU19nb29kcy5pZF9lbGVtPVRlbXBfcXVlcnkuaWRfZ29vZAogICAgTEVGVCBKT0lOIFJTX3Byb3BlcnRpZXMKICAgIE9OIFJTX3Byb3BlcnRpZXMuaWRfZWxlbSA9IFRlbXBfcXVlcnkuaWRfcHJvcGVydGllcwogICAgTEVGVCBKT0lOIFJTX3NlcmllcwogICAgT04gUlNfc2VyaWVzLmlkX2VsZW0gPSBUZW1wX3F1ZXJ5LmlkX3NlcmllcwogICAgTEVGVCBKT0lOIFJTX3VuaXRzCiAgICBPTiBSU191bml0cy5pZF9lbGVtPVRlbXBfcXVlcnkuaWRfdW5pdAogICAgJycnCgpkZWYgZ2V0X21hcmtfcXR0eV9jb25mb3JtaXR5KCk6CiAgICByZXR1cm4gJycnCiAgICBTRUxFQ1QgaWZudWxsKGRvY190YWJsZS5xdHR5X3BsYW4sMCkgLSBpZm51bGwodG1wLnF0dHlfb2ZfbWFyaywwKSAgRlJPTSAKICAgIAogICAgKFNFTEVDVCBxdHR5X3BsYW4KICAgIEZST00gUlNfZG9jc190YWJsZQogICAgV0hFUkUgCiAgICBpZF9kb2MgPSA6aWREb2MgCiAgICBBTkQgaWRfZ29vZCA9IDppZF9nb29kCiAgICBBTkQgaWRfcHJvcGVydGllcyA9IDppZF9wcm9wZXJ0aWVzCiAgICBBTkQgaWRfc2VyaWVzID0gOmlkX3NlcmllcwogICAgQU5EIGlkX3VuaXQgPSA6aWRfdW5pdCkgQXMgZG9jX3RhYmxlCiAgICAgICBMRUZUIEpPSU4gKFNFTEVDVCBDb3VudChpZF9iYXJjb2RlKSBBcyBxdHR5X29mX21hcmsKICAgICAgICBGUk9NIFJTX2RvY3NfYmFyY29kZXMgCiAgICAgICAgV0hFUkUgaWRfZG9jPTppZERvYyAKICAgICAgICBBTkQgaWRfYmFyY29kZSBMSWtlIDpiYXJjb2RlIEFORCBhcHByb3ZlZCA9IDphcHByb3ZlZCkgQXMgdG1wCiAgICAgICAgT04gVFJVRQogICAgJycn"
            },
            {
                "PyFileKey": "ui_csv",
                "PyFileData": "aW1wb3J0IGNzdgppbXBvcnQgb3MKaW1wb3J0IHJlCgppbXBvcnQgdWlfYmFyY29kZXMKaW1wb3J0IHVpX2dsb2JhbApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQoKCmRlZiBnZXRfcXVlcnlfdGV4dChxX25hbWU9JycpIC0+IHN0cjoKICAgIGlmIHFfbmFtZSA9PSAnUlNfZ29vZHMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX2dvb2RzIChpZF9lbGVtLCBjb2RlLCBhcnQsIG5hbWUsIHVuaXQsIHR5cGVfZ29vZCwgZGVzY3JpcHRpb24pIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyknCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfcHJvcGVydGllcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfcHJvcGVydGllcyAoaWRfZWxlbSAsIGlkX293bmVyLCBuYW1lKSBWQUxVRVMgJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX3VuaXRzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU191bml0cyAoaWRfZWxlbSxpZF9vd25lciwgY29kZSwgbmFtZSwgbm9taW5hdG9yLCBkZW5vbWluYXRvciwgaW50X3JlZHVjdGlvbikgVkFMVUVTICg/LD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU190eXBlc19nb29kcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfdHlwZXNfZ29vZHMgKGlkX2VsZW0sIG5hbWUpIFZBTFVFUyAoPyw/KScgICMgKD8sPykKICAgIGVsaWYgcV9uYW1lID09ICdSU19zZXJpZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX3NlcmllcyAoaWRfZWxlbSwgbmFtZSwgYmVzdF9iZWZvcmUsIHR5cGVfZ29vZHMsIG51bWJlciwgcHJvZHVjdGlvbl9kYXRlKSBWQUxVRVMnCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfY291bnRyYWdlbnRzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19jb3VudHJhZ2VudHMgKGlkX2VsZW0sIG5hbWUsIGZ1bGxfbmFtZSwgaW5uLCBrcHApIFZBTFVFUyAnCiAgICBlbGlmIHFfbmFtZSA9PSAnUlNfd2FyZWhvdXNlcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfd2FyZWhvdXNlcyAoaWRfZWxlbSwgbmFtZSkgVkFMVUVTICg/LD8pJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX3ByaWNlX3R5cGVzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19wcmljZV90eXBlcyAoaWQsIG5hbWUpIFZBTFVFUyAoPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19iYXJjb2Rlcyc6CiAgICAgICAgcmV0dXJuICdSRVBMQUNFIElOVE8gUlNfYmFyY29kZXMgKGJhcmNvZGUsIGlkX2dvb2QsIGlkX3Byb3BlcnR5LCBpZF9zZXJpZXMsIGlkX3VuaXQpIFZBTFVFUyAoPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19tYXJraW5nX2NvZGVzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19tYXJraW5nX2NvZGVzIChpZCwgbWFya19jb2RlLCBpZF9nb29kLCBpZF9wcm9wZXJ0eSwgaWRfc2VyaWVzLCBpZF91bml0KSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19wcmljZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX3ByaWNlcyAoaWRfcHJpY2VfdHlwZXMsIGlkX2dvb2RzLCBpZF9wcm9wZXJ0aWVzLCBwcmljZSwgaWRfdW5pdCkgVkFMVUVTICcKICAgIGVsaWYgcV9uYW1lID09ICdSU19kb2NzJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19kb2NzIChpZF9kb2MsIGRvY190eXBlLCBkb2NfbiwgZG9jX2RhdGEsIGlkX2NvdW50cmFnZW50cywgaWRfd2FyZWhvdXNlKSBWQUxVRVMgKD8sPyw/LD8sPyw/KScKICAgIGVsaWYgcV9uYW1lID09ICdSU19kb2NzX3RhYmxlJzoKICAgICAgICByZXR1cm4gJ1JFUExBQ0UgSU5UTyBSU19kb2NzX3RhYmxlIChpZF9kb2MsIGlkX2dvb2QsIGlkX3Byb3BlcnRpZXMsIGlkX3NlcmllcywgaWRfdW5pdCwgcXR0eSwgcXR0eV9wbGFuLCBwcmljZSwgaWRfcHJpY2UpIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyw/LD8pJwogICAgZWxpZiBxX25hbWUgPT0gJ1JTX2RvY3NfYmFyY29kZXMnOgogICAgICAgIHJldHVybiAnUkVQTEFDRSBJTlRPIFJTX2RvY3NfYmFyY29kZXMgKGlkX2RvYywgaWRfYmFyY29kZSwgaXNfcGxhbikgVkFMVUVTICg/LD8sPyknCgoKZGVmIGdldF9xdWVyeV90ZXh0X2V4cG9ydCgpOgogICAgcmV0dXJuICcnJwogICAgICAgICBTRUxFQ1QgCiAgICAgICAgJzAnIEFTIEdUSU4sCiAgICAgICAgUlNfbWFya2luZy5pZF9nb29kLAogICAgICAgIFJTX21hcmtpbmcubmFtZSwgCiAgICAgICAgMSBhcyBEZWNsYXJlZFF1YW50aXR5LAogICAgICAgIENBU0UgYXBwcm92ZWQKICAgICAgICAgICAgV0hFTiAnMScgVEhFTiAxCiAgICAgICAgICAgIEVMU0UgMAogICAgICAgIEVORCBBUyBDdXJyZW50UXVhbnRpdHksCiAgICAgICAgYmFyY29kZV9mcm9tX3NjYW5uZXIgYXMg0JzQsNGA0LrQsCwKICAgICAgICBSU19tYXJraW5nLm1hcmtfY29kZSBBUyDQnNCw0YDQutCw0JjQodCc0J8sCiAgICAgICAgUlNfbWFya2luZy5pZF9wcm9wZXJ0eSBhcyDQmNC90LLQvtC50YEsCiAgICAgICAgJ9Cn0YPQttC+0LknIGFzINCf0YDQuNC90LDQtNC70LXQttC90L7RgdGC0YwgCiAgICAgICAgCiAgICAgICAgRlJPTSBSU19kb2NzX2JhcmNvZGVzIAogICAgICAKICAgICAgICBMRUZUIEpPSU4gKFNFTEVDVCAKICAgICAgICAgICAgICAgICAgICBpZCBBUyBpZF9iYXJjb2RlLAogICAgICAgICAgICAgICAgICAgIG1hcmtfY29kZSBBUyBtYXJrX2NvZGUsCiAgICAgICAgICAgICAgICAgICAgaWRfZ29vZCwKICAgICAgICAgICAgICAgICAgICBpZF9wcm9wZXJ0eSwKICAgICAgICAgICAgICAgICAgICBpZF9zZXJpZXMsCiAgICAgICAgICAgICAgICAgICAgaWRfdW5pdCwKICAgICAgICAgICAgICAgICAgICBSU19nb29kcy5uYW1lLAogICAgICAgICAgICAgICAgICAgIFJTX2dvb2RzLmNvZGUKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBGUk9NIFJTX21hcmtpbmdfY29kZXMKICAgICAgICAgICAgICAgICAgICBMRUZUIEpPSU4gUlNfZ29vZHMgCiAgICAgICAgICAgICAgICAgICAgT04gUlNfZ29vZHMuaWRfZWxlbSAgPSBSU19tYXJraW5nX2NvZGVzLmlkX2dvb2QKICAgICAgICAgICAgICAgICAgICBXSEVSRSBSU19tYXJraW5nX2NvZGVzLmlkIElOIAogICAgICAgICAgICAgICAgICAgICAgICAoU0VMRUNUIGlkX2JhcmNvZGUgRlJPTSBSU19kb2NzX2JhcmNvZGVzIAogICAgICAgICAgICAgICAgICAgICAgICBXSEVSRSBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYyA9IDppZF9kb2MpKSBBUyBSU19tYXJraW5nCiAgICAgICAgT04gUlNfZG9jc19iYXJjb2Rlcy5pZF9iYXJjb2RlID0gUlNfbWFya2luZy5pZF9iYXJjb2RlICAKICAgICAgICAKICAgICAgICBXSEVSRSBSU19kb2NzX2JhcmNvZGVzLmlkX2RvYyA9IDppZF9kb2MKJycnCgpkZWYgbm9ybWFsaXplX2d0aW4oZ3Rpbjogc3RyKSAtPiBzdHI6CiAgICBhID0gbGVuKGd0aW4pCiAgICBpZiBhID4gMTQ6CiAgICAgICAgcmV0dXJuIGd0aW5bOi0xNF0KICAgIGVsc2U6CiAgICAgICAgcmV0dXJuICcwJyAqICgxNCAtIGEpICsgZ3RpbgoKCmRlZiBsb2FkX2Zyb21fY3N2KHBhdGg9JycsIGZpbGU9JycpOgogICAgIyByZS5mdWxsbWF0Y2gocidcZHsxM30nLCBiYXJjb2RlKS5zdHJpbmcgPT0gYmFyY29kZToKICAgIGN1cnJlbnRfZGF0ZSA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlZC0lbS0lWSIpCiAgICAjZmlsZSA9IGZpbGUgKyAoIiAiICogMTUpICPRh9GC0L7QsdGLINC90LUg0L3QsNGC0YvQutCw0YLRjNGB0Y8g0L3QsCBvdXQgb2YgcmFuZ2Ug0LIg0YLQtdC60YHRgtC+0LLQvtC8INC40LzQtdC90LggLSDQtNC+0LHQsNCy0LjQvCAxNSDQv9GA0L7QsdC10LvQvtCyCiAgICBpZiBmaWxlWzo2XSA9PSAnZG9jX2luJzoKICAgICAgICAjINCX0LDQs9GA0YPQttCw0LXQvCDQtNC+0LrRg9C80LXQvdGC0YsKICAgICAgICB3aXRoIG9wZW4ocGF0aCwgJ3InLCBuZXdsaW5lPScnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBjc3ZmaWxlOgoKICAgICAgICAgICAgbXlfcmVhZGVyID0gY3N2LnJlYWRlcihjc3ZmaWxlLCBkaWFsZWN0PSdleGNlbCcsIGRlbGltaXRlcj0nOycsIHF1b3RlY2hhcj0nIicpCgogICAgICAgICAgICByc19kb2NfZGF0YSA9IFtdCiAgICAgICAgICAgIHJzX2RvY190YWJsZV9kYXRhID0gW10KICAgICAgICAgICAgcnNfZG9jX2JhcmNvZGUgPSBbXQogICAgICAgICAgICByc19tYXJraW5nX2NvZGVzID1bXQogICAgICAgICAgICByc19wcm9wZXJ0aWVzID0gW10KICAgICAgICAgICAgdGVtcF9kb2NfbiA9ICcnCiAgICAgICAgICAgIHRlbXBfZ29vZCA9JycKICAgICAgICAgICAgZG9jX251bSA9IHVpX2dsb2JhbC5Sc19kb2MuZ2V0X25ld19pZCgnJykKICAgICAgICAgICAgZm9yIHJvdyBpbiBteV9yZWFkZXI6CiAgICAgICAgICAgICAgICBpZiBteV9yZWFkZXIubGluZV9udW0gPiA1OiAgIyDQl9Cw0LPQvtC70L7QstC60Lgg0YLQsNCx0LvQuNGG0YsKICAgICAgICAgICAgICAgICAgICAjIGlmIHRlbXBfZG9jX24gIT0gcm93WzhdOgogICAgICAgICAgICAgICAgICAgICMgICAgICMgUlNfZG9jcyAoaWRfZG9jLCBkb2NfdHlwZSwgZG9jX24sIGRvY19kYXRhLCBpZF9jb3VudHJhZ2VudHMsIGlkX3dhcmVob3VzZSkKICAgICAgICAgICAgICAgICAgICAjICAgICByc19kb2NfZGF0YS5hcHBlbmQoKGRvY19udW0sICfQmNC90LLQvtC50YEnLCBkb2NfbnVtLCBjdXJyZW50X2RhdGUsICcwMDEnLCAnMDAxJykpCiAgICAgICAgICAgICAgICAgICAgIyAgICAgdGVtcF9kb2NfbiA9IHJvd1s4XQogICAgICAgICAgICAgICAgICAgICMgUlNfZG9jc190YWJsZShpZF9kb2MsIGlkX2dvb2QsIGlkX3Byb3BlcnRpZXMsIGlkX3NlcmllcywgaWRfdW5pdCwgcXR0eSwgcXR0eV9wbGFuLCBwcmljZSwgaWRfcHJpY2UpCiAgICAgICAgICAgICAgICAgICAgaWYgdGVtcF9nb29kICE9IHJvd1swXToKICAgICAgICAgICAgICAgICAgICAgICAgcnNfZG9jX3RhYmxlX2RhdGEuYXBwZW5kKChkb2NfbnVtLCByb3dbMF0sIHJvd1s4XSwgJycsIHJvd1sxXStyb3dbMF0sIGludChyb3dbN10pLCBpbnQocm93WzZdKSwgJycsICcnKSkKICAgICAgICAgICAgICAgICAgICAgICAgY3Vycl9jb3VudCA9IHJzX2RvY190YWJsZV9kYXRhLl9fbGVuX18oKS0xCiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBfZ29vZCA9IHJvd1swXQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICPQtNC+0LHQsNCy0LjQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDQsiDRgdGC0YDQvtC60YMsINC00LvRjyDRjdGC0L7Qs9C+INC/0YDQtdC+0LHRgNCw0LfRg9C10Lwg0LXQtSDQsiDQm9C40YHRgiwg0L/QvtC80LXQvdGP0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDQuCDQt9Cw0YHRg9C90LXQvCDQvtCx0YDQsNGC0L3QviDQsiDQutC+0YDRgtC10LYKICAgICAgICAgICAgICAgICAgICAgICAgbHN0ID0gbGlzdChyc19kb2NfdGFibGVfZGF0YVtjdXJyX2NvdW50XSkKICAgICAgICAgICAgICAgICAgICAgICAgbHN0WzZdPWludChsc3RbNl0pK2ludChyb3dbNl0pCiAgICAgICAgICAgICAgICAgICAgICAgIHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdID0gdHVwbGUobHN0KQogICAgICAgICAgICAgICAgICAgICAgICAjcnNfZG9jX3RhYmxlX2RhdGFbY3Vycl9jb3VudF1bNl09aW50KHJzX2RvY190YWJsZV9kYXRhW2N1cnJfY291bnRdWzZdKSArIGludChyb3dbNl0pCiAgICAgICAgICAgICAgICAgICAgaWYgcm93WzVdOgogICAgICAgICAgICAgICAgICAgICAgICAjIFJTX2RvY3NfYmFyY29kZXMgKGlkX2RvYywgaWRfYmFyY29kZSwgaXNfcGxhbikKICAgICAgICAgICAgICAgICAgICAgICAgcnNfZG9jX2JhcmNvZGUuYXBwZW5kKChkb2NfbnVtLCByb3dbNV0sICcxJykpCiAgICAgICAgICAgICAgICAgICAgICAgICNSU19tYXJraW5nX2NvZGVzKGlkLCBtYXJrX2NvZGUsIGlkX2dvb2QsIGlkX3Byb3BlcnR5LCBpZF9zZXJpZXMsIGlkX3VuaXQpIFZBTFVFUyg/LCA/LCA/LCA/LCA/LCA/KQogICAgICAgICAgICAgICAgICAgICAgICByc19tYXJraW5nX2NvZGVzLmFwcGVuZCgocm93WzVdLCByb3dbNV0scm93WzBdLHJvd1s4XSwnJyxyb3dbMV0rcm93WzBdKSkKCiAgICAgICAgICAgICAgICBlbGlmIG15X3JlYWRlci5saW5lX251bSA9PSAzOgogICAgICAgICAgICAgICAgICAgIGlmIHJvd1swXToKICAgICAgICAgICAgICAgICAgICAgICAgZG9jX251bSA9IHJvd1swXQogICAgICAgICAgICAgICAgICAgIHJzX2RvY19kYXRhLmFwcGVuZCgoZG9jX251bSwgJ9CY0L3QstC+0LnRgScsIGRvY19udW0sIGN1cnJlbnRfZGF0ZSwgJzAwMScsICcwMDEnKSkKICAgICAgICAgICAgICAgIGVsaWYgbXlfcmVhZGVyLmxpbmVfbnVtID09IDU6CiAgICAgICAgICAgICAgICAgICAgbGlzdF9oZWFkZXJzID0gcm93LmNvcHkoKQoKICAgICAgICAjINCX0LDQv9C+0LvQvdGP0LXQvCDRgtCw0LHQu9C40YbRiwogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2RvY3MnKSwgcnNfZG9jX2RhdGEpCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfZG9jc190YWJsZScpLCByc19kb2NfdGFibGVfZGF0YSkKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU19kb2NzX2JhcmNvZGVzJyksIHJzX2RvY19iYXJjb2RlKQogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX21hcmtpbmdfY29kZXMnKSwgcnNfbWFya2luZ19jb2RlcykKCiAgICAgICAgI9Cf0L4g0LTQvtC60YPQvNC10L3RgtCw0LwsINCz0LTQtSDQtdGB0YLRjCDQt9Cw0L/Qu9Cw0L3QuNGA0L7QstCw0L3QvdGL0LUg0LzQsNGA0LrQuCwg0LTQvtCx0LDQstC40Lwg0L/RgNC40LfQvdCw0LoKICAgICAgICBxdGV4dCA9ICdTRUxFQ1QgaWRfZG9jLCBDT1VOVChpc19wbGFuKSBhcyBpc19wbGFuIEZST00gUlNfZG9jc19iYXJjb2RlcyBXSEVSRSBpc19wbGFuID0gIjEiICcKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwnJyxUcnVlKQogICAgICAgIHF0ZXh0ID0gJ1VQREFURSBSU19kb2NzIFNFVCBhZGRfbWFya19zZWxlY3Rpb24gPSA/IFdIRVJFIGlkX2RvYyA9ID8nCiAgICAgICAgIyAtLS0KICAgICAgICBmb3IgZWwgaW4gcmVzOgogICAgICAgICAgICBpZiBlbFsnaXNfcGxhbiddID4gMDoKICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0IChxdGV4dCwgKDEsZWxbJ2lkX2RvYyddKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoMCwgZWxbJ2lkX2RvYyddKSkKCgoKICAgIGVsaWYgZmlsZVs6MTRdID09ICdpbml0aWFsX2RpY3RzXyc6CiAgICAgICAgI9CU0L7QsdCw0LLQuNC8INGC0LjQvyDRgtC+0LLQsNGA0LAg0LTQu9GPINCy0YHQtdGFINGC0LDQsdC70LjRhgogICAgICAgIHF0ZXh0ID0gJ1JFUExBQ0UgSU5UTyBSU190eXBlc19nb29kcyAoaWRfZWxlbSwgbmFtZSkgVkFMVUVTICg/LD8pJwogICAgICAgIHVpX2dsb2JhbC5nZXRfcXVlcnlfcmVzdWx0KHF0ZXh0LCAoJ9Ci0L7QstCw0YAnLCfQotC+0LLQsNGAJykpCgogICAgICAgIHdpdGggb3BlbihwYXRoLCAncicsIG5ld2xpbmU9JycsIGVuY29kaW5nPSd1dGYtOCcpIGFzIGNzdmZpbGU6CgogICAgICAgICAgICBteV9yZWFkZXIgPSBjc3YucmVhZGVyKGNzdmZpbGUsIGRpYWxlY3Q9J2V4Y2VsJywgZGVsaW1pdGVyPSc7JywgcXVvdGVjaGFyPSciJykKCiAgICAgICAgICAgIHJzX2dvb2RzX2RhdGEgPSBbXQogICAgICAgICAgICByc19iYXJjb2Rlc19kYXRhID0gW10KICAgICAgICAgICAgcnNfdW5pdHNfZGF0YSA9IFtdCiAgICAgICAgICAgICMgUlNfd2FyZWhvdXNlcyhpZF9lbGVtLCBuYW1lKQogICAgICAgICAgICByc193YXJlaG91c2VzID0gW1snMDAxJywgJ9Ce0YHQvdC+0LLQvdC+0LknXV0KICAgICAgICAgICAgIyBSU190eXBlc19nb29kcyAoaWRfZWxlbSwgbmFtZSkKICAgICAgICAgICAgcnNfdHlwZXNfZ29vZHNfZGF0YSA9IFtbJzAwMScsICfQotC+0LLQsNGAJ11dCiAgICAgICAgICAgIHBhcnRfY291bnQgPSAxMDAwCgogICAgICAgICAgICBmb3Igcm93IGluIG15X3JlYWRlcjoKICAgICAgICAgICAgICAgIGlmIG15X3JlYWRlci5saW5lX251bSA9PSAxOiAgIyDQl9Cw0LPQvtC70L7QstC60Lgg0YLQsNCx0LvQuNGG0YsKICAgICAgICAgICAgICAgICAgICBsaXN0X2hlYWRlcnMgPSByb3cuY29weSgpCiAgICAgICAgICAgICAgICBlbGlmIG15X3JlYWRlci5saW5lX251bSA9PSBwYXJ0X2NvdW50OgogICAgICAgICAgICAgICAgICAgIHBhcnRfY291bnQgKz0gMTAwMAogICAgICAgICAgICAgICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2dvb2RzJyksIHJzX2dvb2RzX2RhdGEpCiAgICAgICAgICAgICAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfdW5pdHMnKSwgcnNfdW5pdHNfZGF0YSkKICAgICAgICAgICAgICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU19iYXJjb2RlcycpLCByc19iYXJjb2Rlc19kYXRhKQogICAgICAgICAgICAgICAgICAgIHJzX2dvb2RzX2RhdGEgPSBbXQogICAgICAgICAgICAgICAgICAgIHJzX2JhcmNvZGVzX2RhdGEgPSBbXQogICAgICAgICAgICAgICAgICAgIHJzX3VuaXRzX2RhdGEgPSBbXQoKICAgICAgICAgICAgICAgIGVsc2U6ICAjINC30LDQv9C+0LvQvdGP0LXQvCDRgtCw0LHQu9C40YbRiyDQv9Cw0YDQsNC80LXRgtGA0L7QsiDQt9Cw0L/RgNC+0YHQsCDQuiBTUUwKICAgICAgICAgICAgICAgICAgICAjIGlkX2VsZW0sIGNvIGRlLCBhcnQsIG5hbWUsIHVuaXQsIHR5cGVfZ29vZCwgZGVzY3JpcHRpb24KICAgICAgICAgICAgICAgICAgICByc19nb29kc19kYXRhLmFwcGVuZCgocm93WzJdLCByb3dbM10sIHJvd1s1XSwgcm93WzRdLCByb3dbMV0sICfQotC+0LLQsNGAJywgcm93WzE1XSkpCiAgICAgICAgICAgICAgICAgICAgIyBpZF9lbGVtLCBpZF9vd25lciwgY29kZSwgbmFtZSwgbm9taW5hdG9yLCBkZW5vbWluYXRvciwgaW50X3JlZHVjdGlvbgogICAgICAgICAgICAgICAgICAgIHJzX3VuaXRzX2RhdGEuYXBwZW5kKChyb3dbMV0rcm93WzJdLCByb3dbMl0sIHJvd1sxXSwgcm93WzFdLCAxLCAxLCByb3dbMV0pKQogICAgICAgICAgICAgICAgICAgICMgYmFyY29kZSwgaWRfZ29vZCwgaWRfcHJvcGVydHksIGlkX3NlcmllcywgaWRfdW5pdAogICAgICAgICAgICAgICAgICAgIHJzX2JhcmNvZGVzX2RhdGEuYXBwZW5kKChub3JtYWxpemVfZ3Rpbihyb3dbMF0pLCByb3dbMl0sICcnLCAnJywgcm93WzFdK3Jvd1syXSkpCgogICAgICAgIHVpX2dsb2JhbC5idWxrX3F1ZXJ5X3JlcGxhY2UoZ2V0X3F1ZXJ5X3RleHQoJ1JTX2dvb2RzJyksIHJzX2dvb2RzX2RhdGEpCiAgICAgICAgdWlfZ2xvYmFsLmJ1bGtfcXVlcnlfcmVwbGFjZShnZXRfcXVlcnlfdGV4dCgnUlNfdW5pdHMnKSwgcnNfdW5pdHNfZGF0YSkKICAgICAgICB1aV9nbG9iYWwuYnVsa19xdWVyeV9yZXBsYWNlKGdldF9xdWVyeV90ZXh0KCdSU19iYXJjb2RlcycpLCByc19iYXJjb2Rlc19kYXRhKQoKCiAgICAgICAgcmV0dXJuIDIwMAoKZGVmIGxpc3RfZm9sZGVyKHBhdGg6IHN0ciwgZGVsZXRlX2ZpbGVzOiBib29sKToKICAgICN0cnk6CiAgICBhYT0wCiAgICB0b3RhbCA9IDAKICAgIGZvciBmaWxlIGluIG9zLmxpc3RkaXIocGF0aCk6CiAgICAgICAgdG90YWwgKz0gMQogICAgICAgIGlmIGZpbGUuZW5kc3dpdGgoIi5jc3YiKToKICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlICsgKCIgIiAqIDE1KSAgI9GH0YLQvtCx0Ysg0L3QtSDQvdCw0YLRi9C60LDRgtGM0YHRjyDQvdCwIG91dCBvZiByYW5nZSDQsiDRgtC10LrRgdGC0L7QstC+0Lwg0LjQvNC10L3QuCAtINC00L7QsdCw0LLQuNC8IDE1INC/0YDQvtCx0LXQu9C+0LIKICAgICAgICAgICAgaWYgZmlsZW5hbWVbOjZdID09ICdkb2NfaW4nIG9yIGZpbGVuYW1lWzoxNF0gPT0gJ2luaXRpYWxfZGljdHNfJzoKICAgICAgICAgICAgICAgIGFhICs9MQogICAgICAgICAgICAgICAgYW5zID0gbG9hZF9mcm9tX2NzdihwYXRoK2ZpbGUsZmlsZSkKICAgICAgICAgICAgICAgIGlmIGFucyA9PSAyMDAgYW5kIGRlbGV0ZV9maWxlcz09J3RydWUnOgogICAgICAgICAgICAgICAgICAgIG9zLnJlbW92ZShwYXRoICsgZmlsZSApCgogICAgcmV0dXJuICfQl9Cw0LPRgNGD0LfQutCwINC30LDQstC10YDRiNC10L3QsCwg0LfQsNCz0YDRg9C20LXQvdC+ICcrIHN0cihhYSkrJyDRhNCw0LnQu9C+0LIg0LjQtyAnICsgc3RyKHRvdGFsKQogICAgI2V4Y2VwdDoKICAgICAjICAgcmV0dXJuICfQntGI0LjQsdC60LAg0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YTQsNC50LvQsCcKCgpkZWYgZXhwb3J0X2NzdihwYXRoLCBJUCwgQW5kcm9pZElEKToKICAgIGRvY3MgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdCgnU0VMRUNUIGlkX2RvYywgZG9jX24gZnJvbSBSU19kb2NzIFdoZXJlIHZlcmlmaWVkID0gMScpCiAgICBjb3VudCA9MAogICAgZm9yIGRvY19pdGVtIGluIGRvY3M6CiAgICAgICAgcXRleHQgPSBnZXRfcXVlcnlfdGV4dF9leHBvcnQoKQoKICAgICAgICByZXMgPSB1aV9nbG9iYWwuZ2V0X3F1ZXJ5X3Jlc3VsdChxdGV4dCwoZG9jX2l0ZW1bMF0sKSxUcnVlKQogICAgICAgIGNvdW50ICs9IDEKICAgICAgICB3aXRoIG9wZW4ocGF0aCArICdkb2Nfb3V0XycrIGRvY19pdGVtWzFdICsnLmNzdicsICd3JywgbmV3bGluZT0nJywgZW5jb2Rpbmc9J3V0Zi04JykgYXMgY3N2ZmlsZToKICAgICAgICAgICAgbXlfcmVhZGVyID0gY3N2LndyaXRlcihjc3ZmaWxlLCBkaWFsZWN0PSdleGNlbCcsIGRlbGltaXRlcj0nOycsIHF1b3RlY2hhcj0nIicpCiAgICAgICAgICAgIG15X3JlYWRlci53cml0ZXJvdygoJ05hbWUnLCdVc2VyTmFtZScsJ0RldmljZUlkJywnRGV2aWNlSVAnKSkKICAgICAgICAgICAgbXlfcmVhZGVyLndyaXRlcm93KCgn0J/RgNC40YXQvtC0INC90LAg0YHQutC70LDQtCAnKyBkb2NfaXRlbVsxXSwgJ9Cc0L7RgdC60LLQsDEnLEFuZHJvaWRJRCxJUCkpCiAgICAgICAgICAgIG15X3JlYWRlci53cml0ZXJvdygoJ0dUSU4nLCfQmtC+0LTQktCj0YfQtdGC0L3QvtC50KHQuNGB0YLQtdC80LUnLCfQndCw0LjQvNC10L3QvtCy0LDQvdC40LUnLCdEZWNsYXJlZFF1YW50aXR5JywnQ3VycmVudFF1YW50aXR5Jywn0JrQvtGA0L7QsdC60LAnLCfQnNCw0YDQutCwJywn0JzQsNGA0LrQsNCY0KHQnNCfJywn0JjQvdCy0L7QudGBJywn0J/RgNC40L3QsNC00LvQtdC20L3QvtGB0YLRjCcpKQogICAgICAgICAgICBmb3IgZWwgaW4gcmVzOgogICAgICAgICAgICAgICAgZ3RpbiA9IHVpX2JhcmNvZGVzLmdldF9ndGluX3NlcmlhbF9mcm9tX2RhdGFtYXRyaXgoZWxbJ9Cc0LDRgNC60LDQmNCh0JzQnyddKQogICAgICAgICAgICAgICAgZWxbJ0dUSU4nXT1ndGluWydHVElOJ10KICAgICAgICAgICAgICAgIG15X3JlYWRlci53cml0ZXJvdygoZWxbJ0dUSU4nXSxlbFsnaWRfZ29vZCddLGVsWyduYW1lJ10sZWxbJ0RlY2xhcmVkUXVhbnRpdHknXSwgZWxbJ0N1cnJlbnRRdWFudGl0eSddLCBlbFsn0JzQsNGA0LrQsCddLGVsWyfQnNCw0YDQutCw0JjQodCc0J8nXSwgZWxbJ9CY0L3QstC+0LnRgSddLGVsWyfQn9GA0LjQvdCw0LTQu9C10LbQvdC+0YHRgtGMJ10pKQoKICAgIHJldHVybiBzdHIoY291bnQpKyAnINC00L7QutGD0LzQtdC90YLQvtCyJwojZXhwb3J0X2Nzdign0J7QsdC80LXQvdCi0KHQlC/QndCQLycpICMnCgoKCgoKIyBvcGVuX2ZpbGVzX25ldCgnJywgJ0Q6L1B5dGhvblByb2plY3RzL1JpZ2h0U2Nhbi9TVUltYWluL9Ce0LHQvNC10L3QotCh0JQv0J3QkC9pbml0aWFsX2RpY3RzXzAxLmNzdicsICdpbml0aWFsX2RpY3RzXzAxLmNzdicpCiMgb3Blbl9maWxlc19uZXQoJycsICdEOi9QeXRob25Qcm9qZWN0cy9SaWdodFNjYW4vU1VJbWFpbi/QntCx0LzQtdC90KLQodCUL9Cd0JAvZG9jXzEuY3N2JywnZG9jXzEuY3N2JykK"
            },
            {
                "PyFileKey": "ui_barcodes",
                "PyFileData": "aW1wb3J0IHJlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCgoKZGVmIGdldF9ndGluX3NlcmlhbF9mcm9tX2RhdGFtYXRyaXgoYmFyY29kZTogc3RyKToKICAgICMwMTAwNjA4OTQwNTY2MzA1MjFZaldDL1I5UDV6UmYzICAtLSDQvtCx0YDQsNC30LXRhgogICAgaWYgYmFyY29kZToKICAgICAgICBpZiBsZW4oYmFyY29kZSk9PTMxOgogICAgICAgICAgICByZXMgPSB7fQogICAgICAgICAgICByZXNbJ0dUSU4nXSA9IGJhcmNvZGVbMjoxNl0KICAgICAgICAgICAgcmVzWydTRVJJQUwnXSA9IGJhcmNvZGVbMTg6XQogICAgZWxzZToKICAgICAgICByZXMgPSBOb25lCgogICAgcmV0dXJuIHJlcwoKCgpkZWYgcGFyc2VfYmFyY29kZShiYXJjb2RlKToKICAgIGlmIGJhcmNvZGU6CiAgICAgICAgIyDQn9GA0L7RgdGC0L7QuSBFQU4xMwogICAgICAgIGlmIG5vdCByZS5mdWxsbWF0Y2gocidcZHsxM30nLCBiYXJjb2RlKT09IE5vbmUgYW5kICByZS5mdWxsbWF0Y2gocidcZHsxM30nLCBiYXJjb2RlKS5zdHJpbmcgPT0gYmFyY29kZToKCiAgICAgICAgICAgIHJlcyA9IHsnU0NIRU1FJzogJ0VBTjEzJywgJ0JBUkNPREUnOiBiYXJjb2RlfQoKICAgICAgICBlbGlmIGNocigyOSkgaW4gYmFyY29kZTogIyBEYXRhbWF0cml4CiAgICAgICAgICAgIHJlcyA9IGRhdGFtYXRyaXgoYmFyY29kZSkKCiAgICAgICAgZWxzZTogI9Cd0LXQuNC30LLQtdGB0YLQvdGL0Lkg0YLQuNC/INC60L7QtNCwCiAgICAgICAgICAgIHJlcyA9IHsnU0NIRU1FJzogJ1VOS05PV04nLCAnQkFSQ09ERSc6IGJhcmNvZGV9CgoKICAgICAgICByZXR1cm4gcmVzCgoKZGVmIGRhdGFtYXRyaXgoYmFyY29kZTogc3RyKSAtPiBkaWN0OgogICAgIiIiCiAgICBUaGUgZnVuY3Rpb24gdGFrZXMgYmFyY29kZSBzdHJpbmcgYW5kIHJldHVybiBwYXJzZWQgb2JqZWN0cyBpbiBhIGBkaWN0YC4KICAgIE9wdGlvbmFsbHkgdXNlciBjYW4gcGFzcyBib29sIHZhbHVlIHRvIHZhbGlkYXRlIHRoZSBiYXJjb2RlCiAgICBQYXJhbWV0ZXJzOgogICAgICAgIGJhcmNvZGU6IHN0cmluZyB0eXBlLiBUaGlzIGlzIHRoZSBiYXJjb2RlIHN0cmluZyB3aXRoIHRoZSA8R1M+IHNlcGVyYXRvcnMuCgogICAgUmV0dXJuczoKICAgICAgICBkaWN0OiBSZXR1cm5zIGRpY3Rpb25hcnkgb2JqZWN0IHdpdGggU0NIRU1FLCBQUE4sIEdUSU4sIEVYUElSWSwgQkFUQ0gsIFNFUklBTCAmIE5IUk4gYXMga2V5cyBmb3IgdmFsaWQgcmVxdWVzdHMKICAgICAgICBvciByZWxldmFudCBlcnJvciBzdHJpbmdzLgogICAgIiIiCgoKICAgIGlmIGJhcmNvZGVbOjNdID09ICJdZDIiOiAgIyBNb3N0IGJhcmNvZGUgc2Nhbm5lcnMgcHJlcGVuZCAnXWQyJyBpZGVudGlmaWVyIGZvciB0aGUgR1MxIGRhdGFtYXRyaXguIFRoaXMgc2VjdGlvbiByZW1vdmVzIHRoZSBpZGVudGlmaWVyLgogICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlWzM6XQogICAgICAgIHJlc3VsdCA9IGdzMV9ndGluKGJhcmNvZGUpCgogICAgZWxpZiBiYXJjb2RlWzoyXSBpbiBbJzAxJywgJzIxJywgJzE3JywgJzEwJywgJzcxJ106CiAgICAgICAgcmVzdWx0ID0gZ3MxX2d0aW4oYmFyY29kZSkKCiAgICBlbGlmIGJhcmNvZGVbMF09PWNocigyOSk6ICNTaG9ydCBHUzEgYmFyY29kZQogICAgICAgIHJlc3VsdCA9IGdzMV9ndGluKGJhcmNvZGUpCgogICAgZWxpZiBiYXJjb2RlWzo2XSA9PSAoJ1spPicgKyBjaHIoMzApICsgJzA2Jykgb3IgKCdbKT4nICsgY2hyKDMwKSArICcwNScpOiAgIyBNQUNSTyAwNiBvciBNQUNSTyAwNQogICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlWzc6XSAgIyBSZW1vdmVzIHRoZSBsZWFkaW5nIEFTQ0lJIHNlcGVyYXRvciBhZnRlciB0aGUgc2NoZW1lIGlkZW50aWZpZXIuCiAgICAgICAgcmVzdWx0ID0gaWZhX3BwbihiYXJjb2RlKQoKICAgIGVsc2U6CiAgICAgICAgcmVzdWx0ID0geydFUlJPUic6ICdJTlZBTElEIEZPUk1BVCcsICdCQVJDT0RFJzogYmFyY29kZX0KCiAgICByZXR1cm4gcmVzdWx0CgoKZGVmIGd0aW5fY2hlY2soZ3Rpbjogc3RyKToKICAgIHJldmVyc2VfZ3RpbiA9IGd0aW5bLTI6Oi0xXSAgIyBSZXZlcnNpbmcgdGhlIHN0cmluZyB3aXRob3V0IHRoZSBjaGVjay1kaWdpdAogICAgZGlnaXRfbXVsdGlwbGVyMyA9IFtdCiAgICBkaWdpdF9tdWx0aXBsZXIxID0gW10KCiAgICBmb3IgaSwgbCBpbiBlbnVtZXJhdGUocmV2ZXJzZV9ndGluKToKICAgICAgICBpZiBpICUgMiA9PSAwOgogICAgICAgICAgICBkaWdpdF9tdWx0aXBsZXIzLmFwcGVuZChpbnQobCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGlnaXRfbXVsdGlwbGVyMS5hcHBlbmQoaW50KGwpKQoKICAgIGRpZ2l0X3N1bSA9IChzdW0oZGlnaXRfbXVsdGlwbGVyMykgKiAzKSArIHN1bShkaWdpdF9tdWx0aXBsZXIxKQogICAgbmVhcmVzdF90ZW4gPSByb3VuZChkaWdpdF9zdW0gLyAxMCkgKiAxMAogICAgY2hlY2tfc3VtX2RpZ2l0ID0gbmVhcmVzdF90ZW4gLSBkaWdpdF9zdW0KICAgIGlmIGNoZWNrX3N1bV9kaWdpdCA8IDA6CiAgICAgICAgY2hlY2tfc3VtX2RpZ2l0ID0gMTAgKyBjaGVja19zdW1fZGlnaXQKICAgIHJldHVybiBjaGVja19zdW1fZGlnaXQgPT0gaW50KGd0aW5bLTFdKQoKCnJlc3VsdCA9IHsnU0NIRU1FJzogJ0dTMSd9CgoKZGVmIGdzMV9ndGluKGJhcmNvZGU6IHN0cikgLT4gZGljdDoKICAgIGlmIGNocigyOSkgaW4gYmFyY29kZToKCiAgICAgICAgd2hpbGUgYmFyY29kZToKICAgICAgICAgICAgaWYgYmFyY29kZVs6Ml0gPT0gJzAxJzoKICAgICAgICAgICAgICAgIHJlc3VsdFsnR1RJTiddID0gYmFyY29kZVsyOjE2XQogICAgICAgICAgICAgICAgaWYgbGVuKGJhcmNvZGUpID4gMTY6CiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMTY6XQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQoKICAgICAgICAgICAgZWxpZiBiYXJjb2RlWzozXSA9PSBjaHIoMjkpKycwMSc6CiAgICAgICAgICAgICAgICByZXN1bHRbJ0dUSU4nXSA9IGJhcmNvZGVbMzoxN10KICAgICAgICAgICAgICAgIGlmIGxlbihiYXJjb2RlKSA+IDE3OgogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlWzE3Ol0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKICAgICAgICAgICAgZWxpZiBiYXJjb2RlWzoyXSA9PSAnMTcnOgogICAgICAgICAgICAgICAgcmVzdWx0WydFWFBJUlknXSA9IGJhcmNvZGVbMjo4XQogICAgICAgICAgICAgICAgaWYgbGVuKGJhcmNvZGUpID4gODoKICAgICAgICAgICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVs4Ol0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgICAgIGVsaWYgYmFyY29kZVs6Ml0gPT0gJzEwJzoKICAgICAgICAgICAgICAgIGlmIGNocigyOSkgaW4gYmFyY29kZToKICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDI5KSkKICAgICAgICAgICAgICAgICAgICByZXN1bHRbJ0JBVENIJ10gPSBiYXJjb2RlWzI6aW5kZXhdCiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbaW5kZXggKyAxOl0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0WydCQVRDSCddID0gYmFyY29kZVsyOl0KICAgICAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQoKICAgICAgICAgICAgZWxpZiBiYXJjb2RlWzoyXSA9PSAnMjEnOgogICAgICAgICAgICAgICAgaWYgY2hyKDI5KSBpbiBiYXJjb2RlOgogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gYmFyY29kZS5pbmRleChjaHIoMjkpKQogICAgICAgICAgICAgICAgICAgIHJlc3VsdFsnU0VSSUFMJ10gPSBiYXJjb2RlWzI6aW5kZXhdCiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbaW5kZXggKyAxOl0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0WydTRVJJQUwnXSA9IGJhcmNvZGVbMjpdCiAgICAgICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgICAgIGVsaWYgYmFyY29kZVs6Ml0gPT0gJzkxJzoKICAgICAgICAgICAgICAgIGlmIGNocigyOSkgaW4gYmFyY29kZToKICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDI5KSkKICAgICAgICAgICAgICAgICAgICByZXN1bHRbJ05IUk4nXSA9IGJhcmNvZGVbMjppbmRleF0KICAgICAgICAgICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVtpbmRleCArIDE6XQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByZXN1bHRbJ05IUk4nXSA9IGJhcmNvZGVbMjo2XQogICAgICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBOb25lCgogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICc5Myc6ICMg0JzQvtC70L7Rh9C60LAsINCy0L7QtNCwCiAgICAgICAgICAgICAgICBwYXNzCgogICAgICAgICAgICBlbGlmIGJhcmNvZGVbOjJdID09ICc5Mic6ICPQlNCw0LvQtdC1INGB0LvQtdC00YPQtdGCINC60L7QtCDQv9GA0L7QstC10YDQutC4LCA0NCDRgdC40LzQstC+0LvQsAogICAgICAgICAgICAgICAgI2lmIGxlbihiYXJjb2RlWzI6XSk9PTQ0OgogICAgICAgICAgICAgICAgcmVzdWx0WydDSEVDSyddPSBiYXJjb2RlWzI6XQogICAgICAgICAgICAgICAgYmFyY29kZT1Ob25lCgoKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOVkFMSUQgQkFSQ09ERScsICdCQVJDT0RFJzogcmVzdWx0fQogICAgZWxzZToKICAgICAgICByZXN1bHRbJ0VSUk9SJ109ICdObyBHUyBTZXBhcmF0b3InCiAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgICMgaWYgKCdHVElOJyAsICdCQVRDSCcgLCAnRVhQSVJZJyAsICdTRVJJQUwnKSBpbiByZXN1bHQua2V5cygpOgogICAgIyAgICAgaWYgZ3Rpbl9jaGVjayhyZXN1bHRbJ0dUSU4nXSkgPT0gRmFsc2UgYW5kIGV4cGlyeV9kYXRlX2NoZWNrKHJlc3VsdFsnRVhQSVJZJ10pID09IEZhbHNlOgogICAgIyAgICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOVkFMSUQgR1RJTiAmIEVYUElSWSBEQVRFJywgJ0JBUkNPREUnOiByZXN1bHR9CiAgICAjICAgICBlbGlmIGV4cGlyeV9kYXRlX2NoZWNrKHJlc3VsdFsnRVhQSVJZJ10pID09IEZhbHNlOgogICAgIyAgICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOVkFMSUQgRVhQSVJZIERBVEUnLCAnQkFSQ09ERSc6IHJlc3VsdH0KICAgICMgICAgIGVsaWYgZ3Rpbl9jaGVjayhyZXN1bHRbJ0dUSU4nXSkgPT0gRmFsc2U6CiAgICAjICAgICAgICAgcmV0dXJuIHsnRVJST1InOiAnSU5WQUxJRCBHVElOJywgJ0JBUkNPREUnOiByZXN1bHR9CiAgICAjICAgICBlbHNlOgogICAgIyAgICAgICAgIHJldHVybiByZXN1bHQKICAgICMgZWxzZToKICAgICMgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOQ09NUExFVEUgREFUQScsICdCQVJDT0RFJzogcmVzdWx0fQogICAgcmV0dXJuIHJlc3VsdAoKZGVmIGV4cGlyeV9kYXRlX2NoZWNrKGU6IHN0cik6CiAgICBteV95ZWFyID0gZVs6Ml0KICAgIG15X21vbnRoID0gZVsyOjRdCiAgICBteV9kYXRlID0gZVs0Ol0KCiAgICBpZiAoaW50KG15X21vbnRoKSBub3QgaW4gcmFuZ2UoMSwgMTMpKToKICAgICAgICByZXR1cm4gRmFsc2UKICAgIGVsaWYgKGludChteV9kYXRlKSBub3QgaW4gcmFuZ2UoMzIpKToKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBpZiBteV9kYXRlID09ICcwMCc6CiAgICAgICAgaWYgbXlfbW9udGggPT0gJzAyJyBhbmQgaW50KG15X3llYXIpICUgNCA9PSAwOgogICAgICAgICAgICBteV9kYXRlID0gJzI5JwogICAgICAgIGVsaWYgbXlfbW9udGggPT0gJzAyJyBhbmQgaW50KG15X3llYXIpICUgNCAhPSAwOgogICAgICAgICAgICBteV9kYXRlID0gJzI4JwogICAgICAgIGVsaWYgbXlfbW9udGggaW4gWycwMScsICcwMycsICcwNScsICcwNycsICcwOCcsICcxMCcsICcxMiddOgogICAgICAgICAgICBteV9kYXRlID0gJzMxJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG15X2RhdGUgPSAnMzAnCgogICAgaWYgbXlfbW9udGggPT0gJzAyJyBhbmQgaW50KG15X3llYXIpICUgNCA9PSAwIGFuZCBteV9kYXRlIDw9ICcyOSc6CiAgICAgICAgcGFzcwogICAgZWxpZiBteV9tb250aCA9PSAnMDInIGFuZCBpbnQobXlfeWVhcikgJSA0ICE9IDAgYW5kIG15X2RhdGUgPD0gJzI4JzoKICAgICAgICBwYXNzCiAgICBlbGlmIG15X21vbnRoIGluIFsnMDEnLCAnMDMnLCAnMDUnLCAnMDcnLCAnMDgnLCAnMTAnLCAnMTInXSBhbmQgbXlfZGF0ZSA8PSAnMzEnOgogICAgICAgIHBhc3MKICAgIGVsaWYgbXlfbW9udGggaW4gWycwNCcsICcwNicsICcwOScsICcxMSddIGFuZCBteV9kYXRlIDw9ICczMCc6CiAgICAgICAgcGFzcwogICAgZWxzZToKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBhY3R1YWxfZGF0ZSA9IG15X3llYXIgKyBteV9tb250aCArIG15X2RhdGUKICAgIGlmIGFjdHVhbF9kYXRlID4gZGF0ZXRpbWUudG9kYXkoKS5zdHJmdGltZSgnJXklbSVkJyk6CiAgICAgICAgcmV0dXJuIFRydWUKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIEZhbHNlCgoKZGVmIGlmYV9wcG4oYmFyY29kZTogc3RyKSAtPiBkaWN0OgogICAgcmVzdWx0ID0geydTQ0hFTUUnOiAnSUZBJ30KICAgIHdoaWxlIGJhcmNvZGU6CgogICAgICAgIGlmIGJhcmNvZGVbOjJdID09ICc5Tic6CiAgICAgICAgICAgIHJlc3VsdFsnUFBOJ10gPSBiYXJjb2RlWzI6MTRdCiAgICAgICAgICAgIGlmIGxlbihiYXJjb2RlKSA+IDE0OgogICAgICAgICAgICAgICAgYmFyY29kZSA9IGJhcmNvZGVbMTU6XQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgZWxpZiBiYXJjb2RlWzoxXSA9PSAnRCc6CiAgICAgICAgICAgIHJlc3VsdFsnRVhQSVJZJ10gPSBiYXJjb2RlWzE6N10KICAgICAgICAgICAgaWYgbGVuKGJhcmNvZGUpID4gNzoKICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlWzg6XQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgZWxpZiBiYXJjb2RlWzoyXSA9PSAnMVQnOgogICAgICAgICAgICBpZiBjaHIoMjkpIGluIGJhcmNvZGU6CiAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDI5KSkKICAgICAgICAgICAgICAgIHJlc3VsdFsnQkFUQ0gnXSA9IGJhcmNvZGVbMjppbmRleF0KICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBiYXJjb2RlW2luZGV4ICsgMTpdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDMwKSkKICAgICAgICAgICAgICAgIHJlc3VsdFsnQkFUQ0gnXSA9IGJhcmNvZGVbMjppbmRleF0KICAgICAgICAgICAgICAgIGJhcmNvZGUgPSBOb25lCgogICAgICAgIGVsaWYgYmFyY29kZVs6MV0gPT0gJ1MnOgogICAgICAgICAgICBpZiBjaHIoMjkpIGluIGJhcmNvZGU6CiAgICAgICAgICAgICAgICBpbmRleCA9IGJhcmNvZGUuaW5kZXgoY2hyKDI5KSkKICAgICAgICAgICAgICAgIHJlc3VsdFsnU0VSSUFMJ10gPSBiYXJjb2RlWzE6aW5kZXhdCiAgICAgICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVtpbmRleCArIDE6XQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaW5kZXggPSBiYXJjb2RlLmluZGV4KGNocigzMCkpCiAgICAgICAgICAgICAgICByZXN1bHRbJ1NFUklBTCddID0gYmFyY29kZVsxOmluZGV4XQogICAgICAgICAgICAgICAgYmFyY29kZSA9IE5vbmUKCiAgICAgICAgZWxpZiBiYXJjb2RlWzoyXSA9PSAnOFAnOgogICAgICAgICAgICByZXN1bHRbJ0dUSU4nXSA9IGJhcmNvZGVbMjoxNl0KICAgICAgICAgICAgaWYgbGVuKGJhcmNvZGUpID4gMTY6CiAgICAgICAgICAgICAgICBiYXJjb2RlID0gYmFyY29kZVsxNzpdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBiYXJjb2RlID0gTm9uZQoKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4geydFUlJPUic6ICdJTlZBTElEIEJBUkNPREUnLCAnQkFSQ09ERSc6IHJlc3VsdH0KCiAgICBpZiAnUFBOJyBhbmQgJ0JBVENIJyBhbmQgJ0VYUElSWScgYW5kICdTRVJJQUwnIGluIHJlc3VsdC5rZXlzKCk6CiAgICAgICAgaWYgcHBuX2NoZWNrKHJlc3VsdFsnUFBOJ10pID09IEZhbHNlIGFuZCBleHBpcnlfZGF0ZV9jaGVjayhyZXN1bHRbJ0VYUElSWSddKSA9PSBGYWxzZToKICAgICAgICAgICAgcmV0dXJuIHsnRVJST1InOiAnSU5WQUxJRCBQUE4gJiBFWFBJUlkgREFURScsICdCQVJDT0RFJzogcmVzdWx0fQogICAgICAgIGVsaWYgZXhwaXJ5X2RhdGVfY2hlY2socmVzdWx0WydFWFBJUlknXSkgPT0gRmFsc2U6CiAgICAgICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOVkFMSUQgRVhQSVJZIERBVEUnLCAnQkFSQ09ERSc6IHJlc3VsdH0KICAgICAgICBlbGlmIHBwbl9jaGVjayhyZXN1bHRbJ1BQTiddKSA9PSBGYWxzZToKICAgICAgICAgICAgcmV0dXJuIHsnRVJST1InOiAnSU5WQUxJRCBQUE4nLCAnQkFSQ09ERSc6IHJlc3VsdH0KICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gcmVzdWx0CiAgICBlbHNlOgogICAgICAgIHJldHVybiB7J0VSUk9SJzogJ0lOQ09NUExFVEUgREFUQScsICdCQVJDT0RFJzogcmVzdWx0fQoKCmRlZiBwcG5fY2hlY2socHBuOiBzdHIpIC0+IGJvb2w6CiAgICBpID0gMAogICAgd2VpZ2h0ID0gMgogICAgZGlnaXRfc3VtID0gMAogICAgZm9yIGkgaW4gcmFuZ2UoMTApOgogICAgICAgIGRpZ2l0X3N1bSArPSAob3JkKHBwbltpXSkgKiB3ZWlnaHQpCiAgICAgICAgd2VpZ2h0ICs9IDEKICAgIGNoZWNrX2RpZ2l0ID0gZGlnaXRfc3VtICUgOTcKICAgIHJldHVybiBjaGVja19kaWdpdCA9PSBpbnQocHBuWy0yOl0pICAjIFBQTiBsYXN0IHR3byBjaGFycyBhcmUgY29udmVydGVkIHRvIGludCB0byByZW1vdmUgYW55IGxlYWRpbmcgemVyby4K"
            }
        ],
        "DefServiceConfiguration": ""
    }
}